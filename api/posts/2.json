{"total":120,"pageSize":10,"pageCount":12,"data":[{"title":"简单聊一下服务端渲染","slug":"简单聊一下服务端渲染","date":"2018-09-18T08:07:53.000Z","updated":"2019-02-28T12:34:16.860Z","comments":true,"path":"api/articles/简单聊一下服务端渲染.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":null,"content":"<h2 id=\"写在前面\"><a href=\"#写在前面\" class=\"headerlink\" title=\"写在前面\"></a>写在前面</h2><p><code>Server Slide Rendering</code> 服务端渲染,又简写为 <code>SSR</code>，他一般被用在我们的 <code>SPA（Single-Page Application）</code> 中，即单页应用。</p>\n<h2 id=\"为什么要用SSR？\"><a href=\"#为什么要用SSR？\" class=\"headerlink\" title=\"为什么要用SSR？\"></a>为什么要用SSR？</h2><p>首先我们需要知道 SSR 对于 SPA 的<code>好处</code>，<code>优势</code>是什么。</p>\n<ul>\n<li>更好的 <code>SEO（Search Engine Optimization）</code>，<code>SEO</code> 是搜索引擎优化，简而言之就是针对百度这些搜索引擎，可以让他们搜索到我们的应用。这里可能会有误区，就是我也可以在 <code>index.html</code> 上写 <code>SEO</code> ，为什么会不起作用。因为 React、Vue 的原理是<strong>客户端渲染</strong>，通过浏览器去加载 js、css，有一个时间上的<code>延迟</code>，而搜索引擎不会管你的<code>延迟</code>，他就觉得你如果没加载出来就是没有的，所以是搜不到的。</li>\n<li>解决一开始的<code>白屏渲染</code>，上面讲了 React 的渲染原理，而<strong>SSR服务端渲染</strong>是通过服务端请求数据，因为服务端内网的请求快，性能好所以会更快的加载所有的文件，最后把下载渲染后的页面返回给客户端。</li>\n</ul>\n<h2 id=\"服务端渲染VS客户端渲染\"><a href=\"#服务端渲染VS客户端渲染\" class=\"headerlink\" title=\"服务端渲染VS客户端渲染\"></a>服务端渲染VS客户端渲染</h2><h3 id=\"客户端渲染路线：\"><a href=\"#客户端渲染路线：\" class=\"headerlink\" title=\"客户端渲染路线：\"></a>客户端渲染路线：</h3><ol>\n<li>请求一个 html</li>\n<li>服务端返回一个 html</li>\n<li>浏览器下载 html 里面的 js/css 文件</li>\n<li>等待 js 文件下载完成</li>\n<li>等待 js 加载并初始化完成</li>\n<li>js 代码终于可以运行，由js代码向后端请求数据( ajax/fetch )</li>\n<li>等待后端数据返回</li>\n<li>react-dom ( 客户端 )从无到完整地，把数据渲染为响应页面</li>\n</ol>\n<h3 id=\"服务端渲染路线：\"><a href=\"#服务端渲染路线：\" class=\"headerlink\" title=\"服务端渲染路线：\"></a>服务端渲染路线：</h3><ol>\n<li>请求一个 html</li>\n<li>服务端请求数据( 内网请求快 )</li>\n<li>服务器初始渲染（服务端性能好，较快）</li>\n<li>服务端返回已经有正确内容的页面</li>\n<li>客户端请求 js/css 文件</li>\n<li>等待 js 文件下载完成</li>\n<li>等待 js 加载并初始化完成</li>\n<li>react-dom ( 客户端 )把剩下一部分渲染完成( 内容小，渲染快 )</li>\n</ol>\n<p>从上面两者的渲染路线可以看到，其主要区别就在于，客户端从<code>无到有的</code>渲染，服务端是先在服务端<code>渲染一部分</code>，在再客户端<code>渲染一小部分</code>。</p>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://juejin.im/post/5b55e6a96fb9a04fcf59d754\" target=\"_blank\" rel=\"noopener\">React服务端渲染+pm2自动化部署</a></p>\n","raw":null,"categories":[{"name":"frontend","path":"api/categories/frontend.json"}],"tags":[{"name":"笔记","path":"api/tags/笔记.json"},{"name":"渲染","path":"api/tags/渲染.json"}]},{"title":"部落冲突COC游戏攻略","slug":"部落冲突COC游戏攻略","date":"2018-05-30T09:30:57.000Z","updated":"2019-02-28T12:34:16.864Z","comments":true,"path":"api/articles/部落冲突COC游戏攻略.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":"/images/hexo_post_55.jpg","content":"<h2 id=\"写在前面\"><a href=\"#写在前面\" class=\"headerlink\" title=\"写在前面\"></a>写在前面</h2><p>《部落冲突》是一个战争策略类游戏，简称为 “COC” ，最重要的是这是一款极其良心的游戏，如果说让我投票一款不用花钱又好玩的游戏，那我肯定投给它（王者荣耀没有铭文也不太好玩），可能很多人已经玩过这款游戏了，如果屏幕前的你没有玩过，建议去<a href=\"http://coc.kunlun.com/\" target=\"_blank\" rel=\"noopener\">《部落冲突》官网</a>领略一下这款游戏的魅力。而我入这款游戏的坑比较晚，经舍友介绍才开始玩的，中间因为<strong>专注于学术</strong>而弃坑了一段时间，不过玩的时间还算比较久的，下面就整理一下玩这款游戏过程中所领悟的心得，先来一发目前基地截图：</p>\n<div align=\"center\"><br><img src=\"/images/hexo_post_55.jpg\" alt=\"\"><br></div>\n\n<h2 id=\"大本营\"><a href=\"#大本营\" class=\"headerlink\" title=\"大本营\"></a>大本营</h2><p>自从更新新版本之后，就多了一个新的基地——<strong>建筑大师基地</strong>，所以现在这款游戏是有两个基地的，而两个基地之间除了宝石是互通的以外，其他毫无关联，所以我将分别介绍这两个基地的玩法与攻略，首先就先说一下大本营：</p>\n<h3 id=\"关于升本\"><a href=\"#关于升本\" class=\"headerlink\" title=\"关于升本\"></a>关于升本</h3><p>大本营的等级很重要，它决定了你的防御以及资源建筑的等级上限，而我的建议是<strong>前5本之前随便升</strong>，你可以选择速本，也可以选择防御或资源建筑升满的时候再升本，因为这个阶段还属于挨打阶段，很难说靠打别人走向发家致富的道路；而<strong>在5本以后（包括5本），一定要升满防御和资源建筑以后再升本</strong>，换句话说就是在升本之前要保证除了墙以外的其他所有建筑都升到最高级，这样有两个好处：</p>\n<ol>\n<li>在部落战的时候可以占据很大的优势；</li>\n<li>可以很好的骗到别人，因为很多人都不太会看防御建筑的等级，所以盲目的进行攻打，而如果你的防御建筑是最高级的话，这样就可以保住自己的基地或资源。</li>\n</ol>\n<h3 id=\"关于布局\"><a href=\"#关于布局\" class=\"headerlink\" title=\"关于布局\"></a>关于布局</h3><p>还是那个观点，5本之前随便摆，但是5本之后就有很大的讲究了，一个好的布局是第一重要的，因为这个游戏拼的就是策略，如果你的布局足够好，就算你的资源比较多，别人也会望而却步的。每个本位都有相应的布局，具体的可以参照4399<a href=\"http://news.4399.com/gonglue/buluozz/buju/\" target=\"_blank\" rel=\"noopener\">部落冲突神阵大全</a>，基本上主要思路就是保主基地和你的资源，比如从开头我的主基地截图就可以看到一些端倪。</p>\n<h3 id=\"关于部落\"><a href=\"#关于部落\" class=\"headerlink\" title=\"关于部落\"></a>关于部落</h3><p>部落可以理解为一个公会或一个势力，首先加入部落的前提条件就是要先建好部落堡垒，这个就不用多说了；然后，部落最好是找一个比较活跃等级比较高的，这样福利会比较好，反正<strong>部落是越早加入越好</strong>，可以请求增援，也可以给别人捐兵加经验升级。这里推荐一下我所在的部落（IOS），直接搜索一下 “BigWorldBigBang”，或者在手机上点击<a href=\"https://link.clashofclans.com/?action=OpenClanProfile&amp;tag=88PULP8C\" target=\"_blank\" rel=\"noopener\">此链接</a>直接就可以加入了。</p>\n<h3 id=\"关于部落战\"><a href=\"#关于部落战\" class=\"headerlink\" title=\"关于部落战\"></a>关于部落战</h3><p>加入部落的目的之一就是打部落战了，部落战除了可以给部落加经验之外，对于个人而言最大的好处就是可以达成成就与获得资源了，所以<strong>部落战如果有时间打的话一定要报名参加</strong>，其实也用不了多长时间，而部落战的话每个本位都有不同的打法，网上有很多攻略，自己搜一下就可以了，这里就不再赘述了。</p>\n<h3 id=\"关于资源\"><a href=\"#关于资源\" class=\"headerlink\" title=\"关于资源\"></a>关于资源</h3><p>资源是这个游戏最关键的点，所有建筑的升级都需要资源，而资源从何而来呢？这里需要明确一点的就是：<strong>资源是靠打的，仅靠自己的建筑生产的那点资源是肯定不够的</strong>，这也成为了一些人弃坑的原因，但是不可否认的是，这种策略类游戏不就是让你去攻打别人的吗？而每个本位中的每个布局都有不同的打法，涉及到摆放的位置以及技能和法术释放的时机的，这是这个游戏的魅力所在，充满着无限的可能性，而具体怎么打就不可言喻了，需要从实战中获得经验（举个例子，我现在9本，基本上用大皮卡+法师+治疗法术是可以打任何布局的）。不过，在攻打前一定要看一下对方的防御建筑以及可以掠夺的资源，再衡量一下自己所用兵力所需要的资源，不能打完发现还亏了。</p>\n<h3 id=\"关于杯数\"><a href=\"#关于杯数\" class=\"headerlink\" title=\"关于杯数\"></a>关于杯数</h3><p>杯数是一个核定你现在实力的标准，而你去攻打别人的时候，匹配到的敌人一定会是和你杯数差不多的人，当然打你的人也是一样，所以这个游戏要想玩的好，杯数保持是有讲究的：总体而言就是根据你当前大本营的本位来保持<strong>，5本控制在700左右，6本800，7本900-1000，8本1100-1500，9本1500-1800</strong>，控制在这个范围是最佳的。</p>\n<h2 id=\"建筑大师基地\"><a href=\"#建筑大师基地\" class=\"headerlink\" title=\"建筑大师基地\"></a>建筑大师基地</h2><p>建筑大师基地是后来出的新玩法，具体什么时间忘了，不过自从出了建筑大师基地以后，之前的大本营/村庄在游戏里就被称之为家乡了，其实两者主要的玩法是差不多的，只不过一个是白天，一个是黑夜，所以建筑大师基地有时也被称为<strong>夜世界</strong>。首先介绍一下这个基地和大本营不同的地方，因为是新出的模式，所以可能朋友可能不知道，还是有必要说一下的：</p>\n<ol>\n<li>训练部队不需要消耗圣水，需要的只是时间</li>\n<li>你只会匹配到在线的玩家，你进攻他的同时，他也会进攻你的基地，这里和大本营正好互反，大本营是不会匹配到在线的玩家的</li>\n<li>技艺高超的首领会平衡基地的进攻能力和防守能力。因此，在升级部队提升进攻实力的同时，别忘了建筑大师基地的阵型和防御建筑也需要不断的优化和升级</li>\n</ol>\n<h3 id=\"关于进攻\"><a href=\"#关于进攻\" class=\"headerlink\" title=\"关于进攻\"></a>关于进攻</h3><p>在这个基地中，进攻的策略比大本营更为重要，因为最终的胜负是按照两方进攻所得星数来判断的，下面讲一些注意事项和小技巧：</p>\n<ol>\n<li>搜到对手后、有一分钟的时间思考人生、不要操之过急、仔细观察阵型再配兵打战。</li>\n<li>看见缺口一定有陷阱、所以<strong>不要一股脑全把兵放下去了</strong>，时间是很充足的，可以先下几个兵试探一下</li>\n<li>不到最后一秒千万不要放弃，你以为自己打的星数比较少，没准对面更少或者直接掉线了！</li>\n</ol>\n<h3 id=\"关于防守\"><a href=\"#关于防守\" class=\"headerlink\" title=\"关于防守\"></a>关于防守</h3><p>防守是与进攻并重的，所以这里说几点比较重要的：</p>\n<ol>\n<li><strong>内置大本营</strong>，这是基本要素，因为最终判定输赢的时候是按照星数来判定的，也就是说如果你打了49%摧毁率0颗星，对面打了10&amp;摧毁率1颗星，也是算对面赢的，所以一定不要让对面轻轻松松就打掉大本营</li>\n<li><strong>撼地巨石守入口</strong>，如果地方用近战部队进攻，那么撼地巨石一定会教他们做人的。</li>\n<li><strong>防空建筑内置</strong>， 防空是个很重要的建筑，一定要放在里面</li>\n<li><strong>特斯拉电磁塔和多管迫击炮要紧邻巨石</strong>，这两个是这个游戏攻击最高和攻速最快的建筑，守着撼地巨石是避免敌方用远程隐秘弓箭手进攻，毕竟撼地巨石的攻击距离不忍直视</li>\n<li><strong>陷阱放在没有巨石的另外一边</strong>， 没人是傻子，看见陷阱还往里面闯？那么我们防御薄弱的另一侧就需要陷阱来协助防守了</li>\n</ol>\n<h3 id=\"关于建筑\"><a href=\"#关于建筑\" class=\"headerlink\" title=\"关于建筑\"></a>关于建筑</h3><p>建筑的升级也有一些讲究：</p>\n<ol>\n<li><strong>搜对手做任务的时候不要让防御和陷阱处在升级状态</strong>，这期间可以升级资源建筑之类的，防御类的建筑放在不打任务时升级最好</li>\n<li>时光机器不一定非要等到打任务时用，一般是有了加速就点，单纯为了压缩所有时间</li>\n</ol>\n<h3 id=\"关于本位\"><a href=\"#关于本位\" class=\"headerlink\" title=\"关于本位\"></a>关于本位</h3><p>建筑大师基地目前满本是8本，所以基本上到5本就已经可以算后期了。对于本位，首先根据指引到达2本，2本不要停留太久，造完升本需要的建筑就直接速升到三本。到三本之后一定要先升兵营，升到可以造小亡灵，在三本这个本位，小亡灵打法基本上无敌：先放一个兵营的胖子挡住箭塔，之后小亡灵直接踏平。 注意：小亡灵不要升到很高的级别，主要升级胖子弓箭手和野蛮人 到了三本后期有两个基本的流派，以6级的弓箭手和6级野蛮人为核心。先从野蛮人说起，6级的野蛮人一个兵营可以造10个，30个野蛮人很无敌，挑那些撼地巨石外置的阵型，先放1-2个让他砸一下，然后趁着他还在缓冲的时候，直接下去一半秒掉锤子，最后分散再下一波清边，负责踩炸弹和蹭百分比 再来说说弓箭手，5级及以下的弓箭手最好是下在一起，以高攻击争取爆本，而六级弓箭手就可以无脑绕圈放，基本都是50%以上，赢得几率很大 升到四本后基本还是这两个流派，就不赘述了，三本其实还是可以速本的，但是杯一定要上去，保持在1600左右发育，生完四本速度出钟楼，然后把钟楼升满，这样发育会快很多 就这样一直发育，等满防满科技再生五本，把小龙升满，小龙分开绕圈放加上战争机器简直无敌</p>\n<h2 id=\"通用\"><a href=\"#通用\" class=\"headerlink\" title=\"通用\"></a>通用</h2><p>这里讲一下大本营和建筑大师基地的一些通用的攻略：</p>\n<h3 id=\"关于宝石\"><a href=\"#关于宝石\" class=\"headerlink\" title=\"关于宝石\"></a>关于宝石</h3><p>很多新手不知道宝石有什么用，以为和金水一样可以随便用，那我告诉你可大错特错了，宝石是这个游戏里最重要也是最宝贵的资源，其相当于现实世界中的人民币（你说有用不？），这里我的建议是<strong>所有的宝石都用来购买建筑工人</strong>，先把主基地中的5个建筑工人买齐，这样可以加快建筑的升级速度，而<strong>买齐之后就可以用来加速了</strong>，毕竟如果你不是人民币玩家的话，就需要拿时间来玩了，时间就是金钱啊！</p>\n","raw":null,"categories":[{"name":"game","path":"api/categories/game.json"}],"tags":[{"name":"COC","path":"api/tags/COC.json"}]},{"title":"Apache配置二级域名及SSL证书","slug":"Apache配置二级域名及SSL证书","date":"2018-04-24T10:13:56.000Z","updated":"2019-02-28T12:34:16.848Z","comments":true,"path":"api/articles/Apache配置二级域名及SSL证书.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":null,"content":"<h2 id=\"写在前面\"><a href=\"#写在前面\" class=\"headerlink\" title=\"写在前面\"></a>写在前面</h2><p>前一段日子，我费了九牛二虎之力将 “Merrier说” 博客升级成了HTTPS，虽然回过头来看，其实申请SSL证书以及配置都是现成的轮子，别人已经为我们写好了脚本，不过对于第一次接触服务器相关的童鞋来说，确实会遇到很多麻烦，如果你也有这个需求，可以参考我的另一篇文章——<a href=\"/20180416/website-configuration-https.html\">网站配置HTTPS踩坑记</a>，不过这几天我又配置了一个二级域名（api.merrier.wang），用作爬虫输出的 REST API 所用。</p>\n<h2 id=\"Apache配置\"><a href=\"#Apache配置\" class=\"headerlink\" title=\"Apache配置\"></a>Apache配置</h2><p>首先，我们既然要配置二级域名，那肯定要更改服务器的配置了，这里我以Apache为例，介绍一下如何配置二级域名： 服务器的配置文件以 .conf 为后缀，首先找到 apache 配置文件（httpd.conf）所在位置：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find / -name httpd.conf</span><br></pre></td></tr></table></figure>\n<p>假如 httpd.conf 所在路径为 <code>/etc/httpd/conf/httpd.conf</code> ，在 httpd.conf 中加入这样一句代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Include /etc/httpd/conf/extra/*.conf</span><br></pre></td></tr></table></figure>\n<p>其含义是将 /etc/httpd/conf/extra/ 路径下的所有以 .conf 为后缀的文件都作为 apache 的配置文件进行引入，这样我们就可以将除了 httpd.conf 之外的其他配置文件都放到 extra 文件夹下，便于管理。接着配置一下 NameVirtualHost，将配置文件中的下面一行代码取消注释：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NameVirtualHost *:80</span><br></pre></td></tr></table></figure>\n<p>然后，我们在 extra 文件夹下新建一个配置文件，如果主域名为 merrier.wang，而想配置的二级域名为 api.merrier.wang 的话，配置文件可以取名为 httpd-api.conf，这样命名比较规范。在新建的配置文件中填入以下代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;VirtualHost *:80&gt;</span><br><span class=\"line\">    ServerAdmin root@merrier.wang</span><br><span class=\"line\">    DocumentRoot &quot;/var/www/html/merrier-api&quot;</span><br><span class=\"line\">    &lt;Directory &quot;/var/www/html/merrier-api&quot;&gt;</span><br><span class=\"line\">      AllowOverride all</span><br><span class=\"line\">      Order allow,deny</span><br><span class=\"line\">      Allow from all</span><br><span class=\"line\">    &lt;/Directory&gt;</span><br><span class=\"line\">    ServerName api.merrier.wang</span><br><span class=\"line\">    ProxyRequests off</span><br><span class=\"line\">    &lt;Proxy *&gt;</span><br><span class=\"line\">      Order deny,allow</span><br><span class=\"line\">      Allow from all</span><br><span class=\"line\">    &lt;/Proxy&gt;</span><br><span class=\"line\">    &lt;Location /&gt;</span><br><span class=\"line\">      ProxyPass http://localhost:3000/</span><br><span class=\"line\">      ProxyPassReverse http://localhost:3000/</span><br><span class=\"line\">    &lt;/Location&gt;</span><br><span class=\"line\">    ErrorLog logs/merrier.wang-error_log</span><br><span class=\"line\">    CustomLog logs/merrier-wang-access_log common</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>\n<p>其中有几个字段名需要按照真实情况进行修改：</p>\n<ul>\n<li>DocumentRoot和Directory：你的文件存放路径</li>\n<li>ServerAdmin：一般为 root@主域名</li>\n<li>ServerName：二级域名</li>\n<li>ProxyPass和ProxyPassReverse：node 服务占用的端口号，如果没有 node 服务，可以不填写</li>\n<li>ErrorLog和CustomLog：log 存放地址</li>\n</ul>\n<p>这样修改完之后重启服务器让配置生效：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service httpd restart</span><br></pre></td></tr></table></figure>\n<p>然后访问一下你的二级域名（http），如果一切顺利的话应该就可以看到页面了（如果有 node 服务的话，需要先启动 node 服务）</p>\n<h2 id=\"PM2及node相关配置\"><a href=\"#PM2及node相关配置\" class=\"headerlink\" title=\"PM2及node相关配置\"></a>PM2及node相关配置</h2><p>如果你需要启动 node 服务，那你肯定需要进行进程管理，尤其是如果你的网站需要占用多个端口有多个 node 服务的话，那在 node 进程管理工具中，业界使用最多的就是 pm2 了，下面就介绍一下如何合理的进行 pm2 配置以及 node 相关安装和配置（如果你没有 node 服务，那这一部分就可以跳过了）：</p>\n<h3 id=\"安装nodejs和npm\"><a href=\"#安装nodejs和npm\" class=\"headerlink\" title=\"安装nodejs和npm\"></a>安装nodejs和npm</h3><p>centos 默认是没有 nodejs 和 npm 的，所以需要进行安装：首先要通过 yum 来安装 nodejs 和 npm，而这需要先给 yum 添加 epel 源，添加方法在 <a href=\"http://www.dahouduan.com/2014/12/25/centos-yum-add-epel-remi/\" target=\"_blank\" rel=\"noopener\">centos 添加epel和remi源</a> 中，安装完成后，执行：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install nodejs npm --enablerepo=epel</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装nvm\"><a href=\"#安装nvm\" class=\"headerlink\" title=\"安装nvm\"></a>安装nvm</h3><p>在我们的日常开发中经常会遇到这种情况：手上有好几个项目，每个项目的需求不同，进而不同项目必须依赖不同版的 NodeJS 运行环境。如果没有一个合适的工具，这个问题将非常棘手。<a href=\"https://github.com/creationix/nvm\" target=\"_blank\" rel=\"noopener\">nvm</a> 应运而生，nvm 是 Mac 下的 node 管理工具，有点类似管理 Ruby 的 rvm。在 centos 系统，我们可以通过 curl 的方式安装 nvm ：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash</span><br></pre></td></tr></table></figure>\n<p>如果你看到以下报错，说明你的 git 版本太低了（可以通过 <code>git --version</code> 查看当前 git 的版本）：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">=\\&gt; error: pathspec &apos;v0.29.0&apos; did not match any file(s) known to git.</span><br><span class=\"line\">Your version of git is out of date. Please update it!</span><br></pre></td></tr></table></figure>\n<p>可以按照<a href=\"https://segmentfault.com/a/1190000007134786\" target=\"_blank\" rel=\"noopener\">centos 6.7 安装 最新版 git</a>的教程进行最新版git的安装，讲解步骤很详细。安装完 nvm 之后，我们对 node 的版本管理就非常简单了，例如，如果我们要安装 8.1.3 版本，可以用如下命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 8.1.3</span><br></pre></td></tr></table></figure>\n<p>列出远程服务器上所有的可用版本：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls-remote</span><br></pre></td></tr></table></figure>\n<p>列出本地已安装的版本：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure>\n<p>切换到某个版本：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use 8.1.3</span><br></pre></td></tr></table></figure>\n<p>nvm 的更多用法参见：<a href=\"http://bubkoo.com/2017/01/08/quick-tip-multiple-versions-node-nvm/\" target=\"_blank\" rel=\"noopener\">使用 nvm 管理不同版本的 node 与 npm</a></p>\n<h3 id=\"安装pm2\"><a href=\"#安装pm2\" class=\"headerlink\" title=\"安装pm2\"></a>安装pm2</h3><p>使用 npm 全局安装，一行命令不能再简单：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g pm2</span><br></pre></td></tr></table></figure>\n<h3 id=\"配置pm2\"><a href=\"#配置pm2\" class=\"headerlink\" title=\"配置pm2\"></a>配置pm2</h3><p>如果你的服务入口文件为 app.js，在当前项目目录下启动pm2：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pm2 start app.js --watch</span><br></pre></td></tr></table></figure>\n<p>这里用了 –watch 参数，意味着当你的 express 应用代码发生变化时，pm2 会帮你自动重启服务，多贴心。不过如果不经常改动，最好省去这个参数。关于 pm2 的其他命令可以查看<a href=\"http://www.cnblogs.com/chyingp/p/pm2-documentation.html\" target=\"_blank\" rel=\"noopener\">PM2实用入门指南</a>。</p>\n<h4 id=\"shell脚本启动多个服务\"><a href=\"#shell脚本启动多个服务\" class=\"headerlink\" title=\"shell脚本启动多个服务\"></a>shell脚本启动多个服务</h4><p>我们可以通过shell脚本控制多个服务的同时开启，比如新建一个bootstrap.sh文件：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\">CURRENT\\_DIR=&quot;$(cd -P &quot;$(dirname &quot;$&#123;BASH\\_SOURCE\\[0\\]&#125;&quot;)&quot; &amp;&amp; pwd)&quot;</span><br><span class=\"line\">cd $CURRENT_DIR</span><br><span class=\"line\">. ~/.nvm/nvm.sh</span><br><span class=\"line\">nvm use v8.1</span><br><span class=\"line\">sleep 1</span><br><span class=\"line\">pm2 start app.json</span><br></pre></td></tr></table></figure>\n<p>而 app.json 中可以填入多个 node 服务的相关信息，名称、端口、log 信息等等，这种玩法苏南大叔讲的很详细了，可以移步：<a href=\"https://newsn.net/say/node-pm2-start.html\" target=\"_blank\" rel=\"noopener\">pm2 start命令进阶详解</a></p>\n<h2 id=\"配置SSL证书\"><a href=\"#配置SSL证书\" class=\"headerlink\" title=\"配置SSL证书\"></a>配置SSL证书</h2><p>接下来就是配置 SSL 证书的环节了，这里我们依然可以选择 Let’s entrypt 的证书，同时利用 certbot 工具可以节省很多麻烦，如果你配置过顶级域名的 SSL 证书（如果没有配置过，可以参考我的另一篇文章：<a href=\"/20180416/website-configuration-https.html\">网站配置HTTPS踩坑记</a>进行配置），可以进入之前已经生成好的 certbot-auto 目录，然后执行以下命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo certbot-auto --apache --duplicate</span><br></pre></td></tr></table></figure>\n<p>当你遇到以下信息时，建议单独选择你没有进行配置过 HTTPS 的域名，这样就不会覆盖掉原来申请过的证书：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Which names would you like to activate HTTPS for?</span><br><span class=\"line\"></span><br><span class=\"line\">\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-</span><br><span class=\"line\"></span><br><span class=\"line\">1: merrier.wang</span><br><span class=\"line\"></span><br><span class=\"line\">2: api.merrier.wang</span><br><span class=\"line\"></span><br><span class=\"line\">\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-</span><br><span class=\"line\"></span><br><span class=\"line\">Select the appropriate numbers separated by commas and/or spaces, or leave input</span><br><span class=\"line\"></span><br><span class=\"line\">blank to select all options shown (Enter &apos;c&apos; to cancel):</span><br></pre></td></tr></table></figure>\n<p>配置完成之后，重启服务就可以了：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service httpd restart</span><br></pre></td></tr></table></figure>\n<p>Have Fun！</p>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><ul>\n<li><p><a href=\"http://www.dahouduan.com/2014/12/25/centos-yum-install-nodejs-npm/\" target=\"_blank\" rel=\"noopener\">centos用 yum 方式安装 nodejs 和 npm</a></p>\n</li>\n<li><p><a href=\"http://www.dahouduan.com/2014/12/25/centos-yum-add-epel-remi/\" target=\"_blank\" rel=\"noopener\">centos 添加 epel 和 remi 源</a></p>\n</li>\n<li><p><a href=\"https://segmentfault.com/a/1190000007135306\" target=\"_blank\" rel=\"noopener\">centos 使用 nvm 安装 nodejs （nvm安装时出错，git 版本太老）</a></p>\n</li>\n<li><p><a href=\"https://segmentfault.com/a/1190000007134786\" target=\"_blank\" rel=\"noopener\">centos 6.7 安装 最新版 git</a></p>\n</li>\n<li><p><a href=\"http://www.cnblogs.com/chyingp/p/pm2-documentation.html\" target=\"_blank\" rel=\"noopener\">PM2实用入门指南</a></p>\n</li>\n<li><p><a href=\"http://bubkoo.com/2017/01/08/quick-tip-multiple-versions-node-nvm/\" target=\"_blank\" rel=\"noopener\">使用 nvm 管理不同版本的 node 与 npm</a></p>\n</li>\n</ul>\n","raw":null,"categories":[{"name":"server","path":"api/categories/server.json"}],"tags":[{"name":"apache","path":"api/tags/apache.json"},{"name":"ssl","path":"api/tags/ssl.json"}]},{"title":"网站配置HTTPS踩坑记","slug":"网站配置HTTPS踩坑记","date":"2018-04-16T06:36:36.000Z","updated":"2019-02-28T12:34:16.860Z","comments":true,"path":"api/articles/网站配置HTTPS踩坑记.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":"/images/hexo_post_290.png","content":"<p>近两年来 HTTPS 取代 HTTP 已经成为大势所趋。早在 2014 年 Google Chromium 安全团队提议将所有的 HTTP 协议网站标注为不安全。现在，Chrome 浏览器已经开始执行这一标准了。从 Chrome 56 开始，任何网页，如果有输入密码或者信用卡资料的，却没有使用 HTTPS，将被 Chrome 浏览器标识为不安全；逐步的，任何没有使用 HTTPS 协议的网页 Chrome 浏览器都会被标识为”不安全”，或者 “Not Secure”。所以处女座的我打算将 merrier.wang 升级成 HTTPS，以下对升级过程中遇到的问题和坑进行一下总结，如果你也有类似需求，希望这篇文章能够帮到你一二~</p>\n<h2 id=\"SSL证书选择\"><a href=\"#SSL证书选择\" class=\"headerlink\" title=\"SSL证书选择\"></a>SSL证书选择</h2><p>1、对于国内用户来说，可以使用与百度云、腾讯云、阿里云合作的赛门铁克签署的证书，一年免费，申请和使用都很方便。 （<strong>不过我一开始用腾讯云的免费证书，发现chrome浏览器还是标记不安全，所以我就放弃用国内的证书- -</strong>） 2、自从 <a href=\"https://letsencrypt.org/\" target=\"_blank\" rel=\"noopener\">Let’s Encrypt</a> 免费签发证书后，SSL 证书的价格就开始平民化了，有不少免费和收费的 SSL 可以选择。Let’s Encrypt 的证书虽然只有90的天，不过自动续期也很方便，对于小站来说，是很不错的选择。而我使用的就是 Lets Encrypt 颁发的证书，下面就主要记录一下申请证书，配置证书到 apache，以及自动续期的实现步骤，供有兴趣的童鞋参考。</p>\n<h2 id=\"申请证书\"><a href=\"#申请证书\" class=\"headerlink\" title=\"申请证书\"></a>申请证书</h2><p>Certbot 是一个简单易用的 SSL 证书部署工具，由 EFF 开发，前身即 Let’s Encrypt 官方（Python）客户端。简单来说，certbot 就是一个简化 Let’s Encrypt 部署，和管理 Let’s Encrypt 证书的工具。所以我们可以通过 Certbot 非常方便的生成证书并借助脚本实现自动续费。 首先来到 <a href=\"https://certbot.eff.org/\" target=\"_blank\" rel=\"noopener\">Certbot官网</a>，在下面的蓝色箭头处选择操作系统和服务器型号：</p>\n<div align=\"center\"><br><img src=\"/images/hexo_post_290.png\" alt=\"\"><br></div>\n\n<p>以我的阿里云 ECS 举例，操作系统是 CentOS 6，服务器是 Apache，选择完之后页面下方会出现指引；按照其指引，我们首先需要安装 certbot-auto，在你想要安装的目录（这个目录最好是一个简单好找的目录，比如 <code>/etc/httpd/conf</code>，因为后面还要用到）下执行以下命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://dl.eff.org/certbot-auto</span><br><span class=\"line\">chmod a+x certbot-auto</span><br></pre></td></tr></table></figure>\n<p>然后我们通过certbot获取证书：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ./path/to/certbot-auto --apache</span><br></pre></td></tr></table></figure>\n<p>期间会让你填一些自己的信息，比如个人邮箱等等，按照自己的实际情况填写即可，然后过程中可能会遇到下面这条信息：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.</span><br><span class=\"line\">\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-</span><br><span class=\"line\">1: No redirect - Make no further changes to the webserver configuration.</span><br><span class=\"line\">2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for</span><br><span class=\"line\">new sites, or if you&apos;re confident your site works on HTTPS. You can undo this</span><br><span class=\"line\">change by editing your web server&apos;s configuration.</span><br></pre></td></tr></table></figure>\n<p>这里我强烈建议选择第二个 Redirect 选项，因为这样 Certbot 会对 apache 配置文件进行修改，当用户访问 HTTP 链接时，强制重定向到 HTTPS 链接，就不需要我们自己进行修改了。 如果一切顺利的话，当我们看到下面的提示信息时，就证明我们的证书已经申请成功并配置成功了：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-</span><br><span class=\"line\">Congratulations! You have successfully enabled https://merrier.wang</span><br><span class=\"line\"></span><br><span class=\"line\">You should test your configuration at:</span><br><span class=\"line\">https://www.ssllabs.com/ssltest/analyze.html?d=merrier.wang</span><br><span class=\"line\">\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-\\-</span><br></pre></td></tr></table></figure>\n<h2 id=\"自动续费\"><a href=\"#自动续费\" class=\"headerlink\" title=\"自动续费\"></a>自动续费</h2><p>此时我们可以访问一下 HTTPS 的链接，看看证书是否生效，如果不生效，可以尝试一下重启 apache：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service httpd restart</span><br></pre></td></tr></table></figure>\n<p>Let’s Encrypt 的证书，默认的有效期是 90 天，不过官方推荐每 60 天续期。到期之后，我们需要用命令来为证书续期，不过我们是懒人，这种体力活还是交给机器来完成比较合适。所以，我们可以用 Linux 的 cron job 来完成这类的任务。</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>如果服务器上没有安装 crontabs，需要手动安装，centos 系统建议通过 yum 安装：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install crontabs</span><br></pre></td></tr></table></figure>\n<h3 id=\"启动服务\"><a href=\"#启动服务\" class=\"headerlink\" title=\"启动服务\"></a>启动服务</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service crond start</span><br><span class=\"line\">chkconfig crond start</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加新的任务\"><a href=\"#添加新的任务\" class=\"headerlink\" title=\"添加新的任务\"></a>添加新的任务</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab \\[-u user\\] -e</span><br></pre></td></tr></table></figure>\n<p>其中：-u user：用来设定某个用户的 crontab 服务，例如，“-u ixdba”表示设定 ixdba 用户的 crontab 服务，此参数一般由 root 用户来运行。即执行 <code>crontab -u root -e</code> 来添加任务，此时会打开一个新的文件，填入以下脚本信息：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0 0,12 * * * python -c &apos;import random; import time; time.sleep(random.random() * 3600)&apos; &amp;&amp; ./path/to/certbot-auto renew --post-hook &quot;service httpd restart&quot;</span><br></pre></td></tr></table></figure>\n<p>如果出现 crontab: installing new crontab 就说明我们的脚本已经生效了，自动续费就配置好了。关于更多 crontab 的内容可以<a href=\"https://www.jianshu.com/p/838db0269fd0\" target=\"_blank\" rel=\"noopener\">点击这里</a>查看，你可以利用他做更多有意思的事情。如果你不确定自己的定时任务是否设置成功，可以通过执行 <code>crontab -l</code> 进行查看，如果出现上面的那段 python 代码，说明定时任务已经设置成功；有时候可能 crond 服务莫名的挂掉，我们可以通过上面的命令手动启动，同时也可以通过下面的命令手动更新证书：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/httpd/conf/certbot-auto renew</span><br></pre></td></tr></table></figure>\n<h2 id=\"Wordpress配置https\"><a href=\"#Wordpress配置https\" class=\"headerlink\" title=\"Wordpress配置https\"></a>Wordpress配置https</h2><p>如果你的网站是通过 wordpress 搭建的，除了进行上面的流程之外，还需要进行额外的配置：</p>\n<h3 id=\"修改wordpress后台配置中的地址改为https版本\"><a href=\"#修改wordpress后台配置中的地址改为https版本\" class=\"headerlink\" title=\"修改wordpress后台配置中的地址改为https版本\"></a>修改wordpress后台配置中的地址改为https版本</h3><div align=\"center\"><br><img src=\"/images/hexo_post_291.png\" alt=\"\"><br></div>\n\n<p><strong>注意：一定要保证https和http两种方式都能正常访问网站，才能改这个配置，否则可能导致网站无法访问。</strong>通过上面的设置，绝大部分导航中的链接就由 wordpress 系统会自动改为 HTTPS 版本。</p>\n<h3 id=\"替换正文的内部链接和其他静态资源\"><a href=\"#替换正文的内部链接和其他静态资源\" class=\"headerlink\" title=\"替换正文的内部链接和其他静态资源\"></a>替换正文的内部链接和其他静态资源</h3><p>对于这部分链接需要手工修改，修改的方法有两种：</p>\n<h4 id=\"（1）直接在数据库中更新，更新的sql如下：\"><a href=\"#（1）直接在数据库中更新，更新的sql如下：\" class=\"headerlink\" title=\"（1）直接在数据库中更新，更新的sql如下：\"></a>（1）直接在数据库中更新，更新的sql如下：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update wp\\_posts set post\\_content = replace(post_content, ‘http://your-website-name/’,‘https://your-website-name/’)</span><br></pre></td></tr></table></figure>\n<p>对于数据库不熟悉的童鞋不推荐这种方法，对数据库错误的更新对网站可能是毁灭性的打击，建议<strong>更新前最好备份数据库</strong>。</p>\n<h4 id=\"（2）利用wordpress提供的api来重写链接\"><a href=\"#（2）利用wordpress提供的api来重写链接\" class=\"headerlink\" title=\"（2）利用wordpress提供的api来重写链接\"></a>（2）利用wordpress提供的api来重写链接</h4><p>在使用的主题（themes）的目录下的 functions.php 加入如下代码：</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ( <span class=\"function\"><span class=\"keyword\">function</span>\\<span class=\"title\">_exists</span><span class=\"params\">(<span class=\"string\">'add\\_theme\\_support'</span>)</span> )<span class=\"title\">add</span>\\<span class=\"title\">_theme_support</span><span class=\"params\">(<span class=\"string\">'post-thumbnails'</span>)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">add\\_filter(<span class=\"string\">'script\\_loader\\_src'</span>, <span class=\"string\">'agnostic\\_script\\_loader\\_src'</span>, <span class=\"number\">20</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">agnostic</span>\\<span class=\"title\">_script</span>\\<span class=\"title\">_loader_src</span><span class=\"params\">($src, $handle)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> preg_replace(<span class=\"string\">'/^(http|https):/'</span>, <span class=\"string\">''</span>, $src);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">add\\_filter(<span class=\"string\">'style\\_loader\\_src'</span>, <span class=\"string\">'agnostic\\_style\\_loader\\_src'</span>, <span class=\"number\">20</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">agnostic</span>\\<span class=\"title\">_style</span>\\<span class=\"title\">_loader_src</span><span class=\"params\">($src, $handle)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> preg_replace(<span class=\"string\">'/^(http|https):/'</span>, <span class=\"string\">''</span>, $src);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这个方法优点是可逆，不会对网站的数据库有什么影响，推荐使用这种方法。 调整完内部链接后，检查整个网站的页面，包括首页，栏目页，内容页，sitemap，页面head部分内容，比如：css，js，canonical 等，是否都转换成了 HTTPS 版本。</p>\n<h2 id=\"可能会遇到的问题\"><a href=\"#可能会遇到的问题\" class=\"headerlink\" title=\"可能会遇到的问题\"></a>可能会遇到的问题</h2><h3 id=\"Apache配置文件找不到\"><a href=\"#Apache配置文件找不到\" class=\"headerlink\" title=\"Apache配置文件找不到\"></a>Apache配置文件找不到</h3><p>可能某些童鞋的 apache 配置文件不在 <code>/etc/httpd/conf</code> 目录下，可以通过 find 命令进行查找：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find / -name httpd.conf</span><br></pre></td></tr></table></figure>\n<p>其中“/”是指在根目录下进行查找，如果你知道在哪个目录下，可以自行修改，节省查找的时间</p>\n<h3 id=\"Invalid-command-‘SSLEngine’-perhaps-misspelled-or-defined-by-a-module-not-included-in-the-server-configuration\"><a href=\"#Invalid-command-‘SSLEngine’-perhaps-misspelled-or-defined-by-a-module-not-included-in-the-server-configuration\" class=\"headerlink\" title=\"Invalid command ‘SSLEngine’, perhaps misspelled or defined by a module not included in the server configuration\"></a>Invalid command ‘SSLEngine’, perhaps misspelled or defined by a module not included in the server configuration</h3><p>不管是在证书申请过程中还是在自己修改配置过程中遇到次报错，一般情况下是因为在 modules 文件夹下并没有 ssl 模块，那就需要自己安装了，我在<a href=\"https://stackoverflow.com/questions/5257974/how-to-install-mod-ssl-for-apache-httpd\" target=\"_blank\" rel=\"noopener\">stackoverflow</a>上搜到了解决方案，代码如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install mod_ssl</span><br></pre></td></tr></table></figure>\n<p>当我们安装完毕之后，就可以看到 modules 文件夹下多了一个 mod_ssl.so 文件了，此时我们再重启 apache 就应该不报错了。</p>\n<h3 id=\"warn-module-ssl-module-is-already-loaded-skipping-Address-already-in-use-make-sock-could-not-bind-to-address-0-0-0-0-443-no-listening-sockets-available-shutting-down\"><a href=\"#warn-module-ssl-module-is-already-loaded-skipping-Address-already-in-use-make-sock-could-not-bind-to-address-0-0-0-0-443-no-listening-sockets-available-shutting-down\" class=\"headerlink\" title=\"[warn] module ssl_module is already loaded, skipping Address already in use: make_sock: could not bind to address 0.0.0.0:443 no listening sockets available, shutting down\"></a>[warn] module ssl_module is already loaded, skipping Address already in use: make_sock: could not bind to address 0.0.0.0:443 no listening sockets available, shutting down</h3><p>出现该警告说明 ssl module 被多处使用，可以用如下命令检查：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep ssl_module -rI /etc/httpd/*</span><br></pre></td></tr></table></figure>\n<p>此时会出现：</p>\n<div align=\"center\"><br><img src=\"/images/hexo_post_289.png\" alt=\"\"><br></div>\n\n<p>其中 <code>httpd.bk.conf</code> 是我自己建的备份，所以有两种解决方法：</p>\n<ol>\n<li>httpd.conf 中去掉 <code>LoadModule ssl\\_module modules/mod\\_ssl.so</code>、去掉 <code>Listen 443</code></li>\n<li>直接删除 <code>/etc/httpd/conf.d/ssl.conf</code>，推荐直接删除 ssl.conf</li>\n</ol>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://www.watch-life.net/wordpress/wordpress-https-link.html\" target=\"_blank\" rel=\"noopener\">WordPress整站轻松开启HTTPS</a></p>\n<p><a href=\"https://www.jianshu.com/p/909adc612fd4\" target=\"_blank\" rel=\"noopener\">apache服务器添加https（针对ios10 https）</a></p>\n<p><a href=\"https://stringblog.com/%E9%80%9A%E8%BF%87certbot%E9%85%8D%E7%BD%AElets-encrypt%E7%9A%84ssl%EF%BC%88apache%EF%BC%89/\" target=\"_blank\" rel=\"noopener\">通过Certbot配置Let’s Encrypt的SSL（Apache）</a></p>\n","raw":null,"categories":[{"name":"HTTP","path":"api/categories/HTTP.json"}],"tags":[{"name":"指南","path":"api/tags/指南.json"},{"name":"Wordpress","path":"api/tags/Wordpress.json"},{"name":"HTTP","path":"api/tags/HTTP.json"}]},{"title":"Promise入门","slug":"Promise入门","date":"2018-02-26T14:14:10.000Z","updated":"2019-02-28T12:34:16.856Z","comments":true,"path":"api/articles/Promise入门.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":null,"content":"<p>幕课网上的视频——<a href=\"https://www.imooc.com/learn/949\" target=\"_blank\" rel=\"noopener\">Promise入门</a>笔记，Promise 作为 ES6 中最重要的特性之一，对其进行了解和学习是非常有必要的，课程的源码已经上传至<a href=\"https://github.com/merrier/imooc-promise-sample\" target=\"_blank\" rel=\"noopener\">我的github</a>。</p>\n<h2 id=\"Promise是什么\"><a href=\"#Promise是什么\" class=\"headerlink\" title=\"Promise是什么\"></a>Promise是什么</h2><h3 id=\"MDN\"><a href=\"#MDN\" class=\"headerlink\" title=\"MDN\"></a>MDN</h3><blockquote>\n<ul>\n<li>The Promise object is used for asynchronous computations.</li>\n<li>A Promise represents a value which may be available now, or in the future, or never.</li>\n</ul>\n</blockquote>\n<h3 id=\"MDN中文\"><a href=\"#MDN中文\" class=\"headerlink\" title=\"MDN中文\"></a>MDN中文</h3><blockquote>\n<ul>\n<li>Promise对象用于异步计算。</li>\n<li>一个Promise表示一个现在、将来或永不可能可用的值。</li>\n</ul>\n</blockquote>\n<h3 id=\"按照用途来解释\"><a href=\"#按照用途来解释\" class=\"headerlink\" title=\"按照用途来解释\"></a>按照用途来解释</h3><ul>\n<li>主要用于异步计算</li>\n<li>可以将异步操作队列化，按照期望的顺序执行，返回符合预期的结果。</li>\n<li>可以在对象之间传递和操作Promise，帮助我们处理队列。</li>\n</ul>\n<h2 id=\"回调存在的问题\"><a href=\"#回调存在的问题\" class=\"headerlink\" title=\"回调存在的问题\"></a>回调存在的问题</h2><ol>\n<li>嵌套层次很深，难以维护</li>\n<li>无法正常使用 return 和 throw</li>\n<li>无法正常检索堆栈信息</li>\n<li>多个回调之间难以建立联系</li>\n</ol>\n<h2 id=\"Promise-详解\"><a href=\"#Promise-详解\" class=\"headerlink\" title=\"Promise 详解\"></a>Promise 详解</h2><ul>\n<li>Promise 是一个代理对象，它和原先要进行的操作并无关系</li>\n<li>它通过引入一个回调，避免更多的回调</li>\n</ul>\n<h3 id=\"Promise-有-3-个状态\"><a href=\"#Promise-有-3-个状态\" class=\"headerlink\" title=\"Promise 有 3 个状态\"></a>Promise 有 3 个状态</h3><ol>\n<li>pending[待定]——初始状态</li>\n<li>fulfilled[实现\\——操作成功</li>\n<li>rejected[被否决]——操作失败</li>\n</ol>\n<p>当 Promise 的状态发生改变，就会触发 .then() 里的响应函数处理后续步骤；Promise 状态一经改变，不会再变；只有在连续多个回调顺序执行的时候，Promise才会显示出其威力</p>\n<h3 id=\"then\"><a href=\"#then\" class=\"headerlink\" title=\".then()\"></a>.then()</h3><ul>\n<li>.then() 接受两个函数作为参数，分别代表 fulfilled 和 rejected</li>\n<li>.then() 返回一个新的 Promise 实例，所以它可以链式调用</li>\n<li>当前面的 Promise 状态改变时，.then() 根据其最终状态，选择特定的状态响应函数执行</li>\n<li>状态响应函数可以返回新的 Promise，或其它值</li>\n<li>如果返回新的 Promise，那么下一级 .then() 会在新的 Promise 状态改变之后执行</li>\n<li>如果返回其它任何值，则会立刻执行下一级 .then()</li>\n</ul>\n<h3 id=\"错误处理\"><a href=\"#错误处理\" class=\"headerlink\" title=\"错误处理\"></a>错误处理</h3><p>Promise 会自动捕获内部异常，并交给 rejected 响应函数处理 最好是在语句的最后通过 catch 捕获错误，因为 catch 可以捕获 resolve 回调中发生的错误，而 reject 回调无法捕获；catch 也会返回一个 Promise 实例，并且它返回的 Promise 实例如果没有错误的话也是 fulfilled 状态，所以 catch() 后面的 .then() 也都会触发，但是 catch() 后面的 .catch() 不会触发（<strong>如果在第一个catch()中没有抛出错误</strong>）</p>\n<p><strong>强烈建议在所有队列最后都加上.catch()，以避免漏掉错误处理造成意想不到的问题：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doSomething()</span><br><span class=\"line\">  .doAnotherThing()</span><br><span class=\"line\">  .doMoreThing()</span><br><span class=\"line\">  .catch( <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(err);</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"实现队列\"><a href=\"#实现队列\" class=\"headerlink\" title=\"实现队列\"></a>实现队列</h3><p>有时候我们不希望所有动作一起发生，而是按照一定顺序，逐个进行：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> promise = doSomething();</span><br><span class=\"line\">promise = promise.then(doSomethingElse);</span><br><span class=\"line\">promise = promise.then(doSomethingElse2);</span><br><span class=\"line\">promise = promise.then(doSomethingElse3);</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用-forEach\"><a href=\"#使用-forEach\" class=\"headerlink\" title=\"使用.forEach()\"></a>使用.forEach()</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">queue</span>(<span class=\"params\">things</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> promise = <span class=\"built_in\">Promise</span>.resolve();</span><br><span class=\"line\">  things.forEach( <span class=\"function\"><span class=\"params\">thing</span> =&gt;</span> &#123;</span><br><span class=\"line\">    promise = promise.then( <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>( <span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">        doThing(thing, () =&gt; &#123;</span><br><span class=\"line\">          resolve();</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> promise;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">queue(\\[<span class=\"string\">'lots'</span>, <span class=\"string\">'of'</span>, <span class=\"string\">'things'</span>, ....\\]);</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用-reduce\"><a href=\"#使用-reduce\" class=\"headerlink\" title=\"使用.reduce()\"></a>使用.reduce()</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">queue</span>(<span class=\"params\">things</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> things.reduce( <span class=\"function\">(<span class=\"params\">promise, thing</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    promise = promise.then( <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>( <span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">        doThing(thing, () =&gt; &#123;</span><br><span class=\"line\">          resolve();</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;, <span class=\"built_in\">Promise</span>.resolve());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">queue(\\[<span class=\"string\">'lots'</span>, <span class=\"string\">'of'</span>, <span class=\"string\">'things'</span>, ....\\]);</span><br></pre></td></tr></table></figure>\n<h2 id=\"Promise常用函数\"><a href=\"#Promise常用函数\" class=\"headerlink\" title=\"Promise常用函数\"></a>Promise常用函数</h2><h3 id=\"Promise-resolve\"><a href=\"#Promise-resolve\" class=\"headerlink\" title=\"Promise.resolve()\"></a>Promise.resolve()</h3><p>返回一个 fulfilled 的 Promise 实例，或原始 Promise 实例</p>\n<ul>\n<li>参数为空，返回一个状态为 fulfilled 的 Promise 实例</li>\n<li>参数是一个跟 Promise 无关的值，同上，不过 fulfilled 响应函数会得到这个参数</li>\n<li>参数为 Promise 实例，则返回该实例，不做任何修改</li>\n<li>参数为 thenable（有 then 方法），立刻执行它的 .then()</li>\n</ul>\n<h3 id=\"Promise-reject\"><a href=\"#Promise-reject\" class=\"headerlink\" title=\"Promise.reject()\"></a>Promise.reject()</h3><p>返回一个 rejected 的 Promise 实例</p>\n<ul>\n<li><strong>Promise.reject()不认thenable</strong></li>\n<li>其他和 Promise.resolve() 类似</li>\n</ul>\n<h3 id=\"Promise-all\"><a href=\"#Promise-all\" class=\"headerlink\" title=\"Promise.all()\"></a>Promise.all()</h3><p><code>Promise.all(\\[p1, p2, p3, ...\\])</code> 用于将多个 Promise 实例包装成一个新的 Promise 实例 当所有子 Promise 都完成，该 Promise 完成，返回值是<strong>全部值的数组</strong>；有任何一个失败，该 Promise 失败，返回值是<strong>第一个失败的子Promise的结果</strong>，最常见的是和 .map() 连用</p>\n<p>###Promise.race()</p>\n<p>类似 Promise.all() ，区别在于它有任意一个完成就算完成。</p>\n<h3 id=\"常见用法：\"><a href=\"#常见用法：\" class=\"headerlink\" title=\"常见用法：\"></a>常见用法：</h3><ul>\n<li>把异步操作和定时器放在一起</li>\n<li>如果定时器先触发，就认为超时，告知用户</li>\n</ul>\n<h2 id=\"async-await\"><a href=\"#async-await\" class=\"headerlink\" title=\"async/await\"></a>async/await</h2><p>ES2017 新增运算符，新的语言元素</p>\n<ul>\n<li>赋予 JavaScript 以顺序手法编写异步脚本的能力！</li>\n<li>既保留异步运算的无阻赛特性，还继续使用同步写法。</li>\n<li>还能正常使用 return/try/catch</li>\n</ul>\n","raw":null,"categories":[{"name":"js","path":"api/categories/js.json"}],"tags":[{"name":"JS","path":"api/tags/JS.json"},{"name":"ES6","path":"api/tags/ES6.json"},{"name":"笔记","path":"api/tags/笔记.json"},{"name":"慕课网","path":"api/tags/慕课网.json"}]},{"title":"慕课网视频评分&推荐","slug":"慕课网视频评分&推荐","date":"2018-02-19T02:11:11.000Z","updated":"2019-02-28T12:34:16.860Z","comments":true,"path":"api/articles/慕课网视频评分&推荐.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":null,"content":"<p>总有童鞋问我<a href=\"https://www.imooc.com/\" target=\"_blank\" rel=\"noopener\">慕课网</a>上面有哪些视频比较好，我就索性写一篇文章总结一下我看过的慕课网上面的优秀的视频，绝大部分都是前端相关的，希望能够提升你的效率，节省时间。下面我会对这些视频从以下几个方面进行评分（单纯个人评分，不喜勿喷- -）：</p>\n<ul>\n<li><strong>难度系数</strong>：视频所讲内容的难度</li>\n<li><strong>实战系数</strong>：视频所讲内容的实际应用系数</li>\n<li><strong>版本系数</strong>：视频所讲内容中涉及到的框架/插件的版本是否是最新的</li>\n<li><strong>综合评分</strong>：综合评价</li>\n</ul>\n<p>推荐大家用 1.75 倍速播放，这样可以节省很多时间，同时也能听清- -</p>\n<h2 id=\"前端工具\"><a href=\"#前端工具\" class=\"headerlink\" title=\"前端工具\"></a>前端工具</h2><h3 id=\"前端内容的自动化构建\"><a href=\"#前端内容的自动化构建\" class=\"headerlink\" title=\"前端内容的自动化构建\"></a><a href=\"https://www.imooc.com/learn/922\" target=\"_blank\" rel=\"noopener\">前端内容的自动化构建</a></h3><ul>\n<li>难度系数：★☆☆☆☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★☆☆☆</li>\n<li>综合评分：★★★☆☆</li>\n</ul>\n<p>该课程分为三个部分，第一部分讲解什么是构建，为什么需要自动化构建，后面两部分分别讲解如何使用 Gulp 进行 JavaScript 和 CSS 的构建。所讲内容比较简单，而且自动化构建在实际项目中经常会用到，不过 webpack 版本比较低，需要结合评论进行学习。。</p>\n<h3 id=\"webpack深入与实战\"><a href=\"#webpack深入与实战\" class=\"headerlink\" title=\"webpack深入与实战\"></a><a href=\"https://www.imooc.com/learn/802\" target=\"_blank\" rel=\"noopener\">webpack深入与实战</a></h3><ul>\n<li>难度系数：★★★★☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★☆☆☆</li>\n<li>综合评分：★★★★☆</li>\n</ul>\n<p>该课程介绍了如何在项目中使用 webpack 打包文件，处理各种资源，以及配置开发环境，上线环境等，通过实际的例子来讲解 webpack 的使用方法，带你探索 webpack 强大的功能。可以说是很全面了，作者讲解的也比较详细，想初步了解 webpack 如何使用的童鞋可以选择看一下该视频。</p>\n<h3 id=\"前端实时可视化开发工具体验\"><a href=\"#前端实时可视化开发工具体验\" class=\"headerlink\" title=\"前端实时可视化开发工具体验\"></a><a href=\"https://www.imooc.com/learn/718\" target=\"_blank\" rel=\"noopener\">前端实时可视化开发工具体验</a></h3><ul>\n<li>难度系数：★★☆☆☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★★☆☆</li>\n<li>综合评分：★★★☆☆</li>\n</ul>\n<p>前端开发中，我们常常需要频繁的修改 html，css，js，然后刷新页面，看效果，再调整，再刷新。该课程使用 liveStyle，liveReload，browserSync 工具实现修改代码后，立即体现效果的功能，使用可见即可得的开发模式，极大的提高前端开发效率。实时可视化在开发环境应用的比较多，会很大程度地提高工作效率，感兴趣的童鞋可以再自行搜索 hotreload，这样结合本视频观看食用效果更佳</p>\n<h3 id=\"前端性能优化-基础知识认知\"><a href=\"#前端性能优化-基础知识认知\" class=\"headerlink\" title=\"前端性能优化-基础知识认知\"></a><a href=\"https://www.imooc.com/learn/580\" target=\"_blank\" rel=\"noopener\">前端性能优化-基础知识认知</a></h3><ul>\n<li>难度系数：★★★☆☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★★☆</li>\n</ul>\n<p>该课程从前端优化目的，简单方法、分类开始，到如何优化，优化过程中的常见错误，业内公认的但是不适应所有方案。我们还可从这个课程中学习到当我们访问一个站点的时候，我们究竟做了什么以及怎么样才叫优化成功。性能优化是一个老生常谈的问题，如果你对该问题有一定的基础认知，想再深入了解相关知识的话，该课程你不容错过</p>\n<h2 id=\"WebApp\"><a href=\"#WebApp\" class=\"headerlink\" title=\"WebApp\"></a>WebApp</h2><h3 id=\"Hello，移动WEB\"><a href=\"#Hello，移动WEB\" class=\"headerlink\" title=\"Hello，移动WEB\"></a><a href=\"https://www.imooc.com/learn/494\" target=\"_blank\" rel=\"noopener\">Hello，移动WEB</a></h3><ul>\n<li>难度系数：★★★☆☆</li>\n<li>实战系数：★★★★★</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★★☆</li>\n</ul>\n<p>该课程介绍移动 web 的开发基础，高效的排版布局，常见的移动 web 问题，终端触摸交互，各种 bug 坑如何解决等多方面。虽然视频比较短，但是干货多多，对于移动端的适配布局这类问题进行了很详细的讲解。</p>\n<h2 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h2><h3 id=\"Promise入门\"><a href=\"#Promise入门\" class=\"headerlink\" title=\"Promise入门\"></a><a href=\"https://www.imooc.com/learn/949\" target=\"_blank\" rel=\"noopener\">Promise入门</a></h3><ul>\n<li>难度系数：★★★★☆</li>\n<li>实战系数：★★★★★</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★★★</li>\n</ul>\n<p>Promise 是 ES6 中最重要的特性之一，该课程为我们讲解了为什么会有 Promise，以及 Promise 的常见用法和注意事项，通过实际代码进行讲解清晰易懂，适合前端中级水平开发者，我对该课程进行了总结，笔记<a href=\"/20180226/introduction-to-promise.html\">在这里</a>可以查看得到。</p>\n<h3 id=\"ajax跨域完全讲解\"><a href=\"#ajax跨域完全讲解\" class=\"headerlink\" title=\"ajax跨域完全讲解\"></a><a href=\"https://www.imooc.com/learn/947\" target=\"_blank\" rel=\"noopener\">ajax跨域完全讲解</a></h3><ul>\n<li>难度系数：★★★☆☆</li>\n<li>实战系数：★★★★★</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★★★</li>\n</ul>\n<p>跨域是前端领域中经常遇到的问题，尤其是各种 CDN 服务兴起之后，而究竟什么情况下跨域，如何解决跨域问题更是笔试或面试时经常被问到的问题，该视频教程详细讲解了 jsonp 的工作机制，http 协议如何支持跨域，以及 http 服务器 nginx 和 apache 的 2 种不同解决思路，让大家知其然并知其所以然，是非常不错的跨域入门讲解课程</p>\n<h2 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h2><h3 id=\"CSS深入理解系列\"><a href=\"#CSS深入理解系列\" class=\"headerlink\" title=\"CSS深入理解系列\"></a><a href=\"https://www.imooc.com/search/course?words=css%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20%E5%BC%A0%E9%91%AB%E6%97%AD\" target=\"_blank\" rel=\"noopener\">CSS深入理解系列</a></h3><ul>\n<li>难度系数：★★★☆☆</li>\n<li>实战系数：★★★★★</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★★★</li>\n</ul>\n<p>该系列视频为张鑫旭老师对 CSS 相关属性的讲解，包括 margin、padding、position、z-index 等等基础属性，适合具备一定 CSS 基础知识的童鞋，张鑫旭老师的讲课风格很独特，也不知道是否符合你的口味，不过我是很喜欢啦~而且张鑫旭老师对于这些属性的讲解很深入，在实际项目中应用的很多，毕竟前端工程师一年写的 CSS 代码可以绕地球三圈啊（我对该系列视频的讲解进行了总结，在系列专栏中的<a href=\"/20170421/css-in-depth-understanding-series.html\">CSS深入理解系列</a>中可以看到）</p>\n<h3 id=\"如何用CSS进行网页布局\"><a href=\"#如何用CSS进行网页布局\" class=\"headerlink\" title=\"如何用CSS进行网页布局\"></a><a href=\"https://www.imooc.com/learn/57\" target=\"_blank\" rel=\"noopener\">如何用CSS进行网页布局</a></h3><ul>\n<li>难度系数：★☆☆☆☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★★☆☆</li>\n<li>综合评分：★★★☆☆</li>\n</ul>\n<p>该课程教你怎么制作一列布局、二列布局、三列布局当然还有最通用的混合布局，而且你还可以选择让它固定还是自适应。用 CSS 重新规划你的网页，让你的网页从此更美观、更友好。难度系数很低，而布局在实际项目中是很基本也是很重要的知识点</p>\n<h3 id=\"分页页码制作\"><a href=\"#分页页码制作\" class=\"headerlink\" title=\"分页页码制作\"></a><a href=\"https://www.imooc.com/learn/15\" target=\"_blank\" rel=\"noopener\">分页页码制作</a></h3><ul>\n<li>难度系数：★☆☆☆☆</li>\n<li>实战系数：★★☆☆☆</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★☆☆</li>\n</ul>\n<p>通过本课程的学习，我们可以学习到利用 HTML、CSS 样式技术制作出分页页码的效果。包括最简单的直角分页页码效果，修复行内元素之间的间隔 bug 问题分析，代码整理，为分页页码插入小图标。虽然一般不需要我们自己制作分页页码，但是如果你想自己写框架或者对这类知识比较好奇的话，该视频能够充分解答你的疑惑，最为关键的是<strong>提供源码</strong>啊~</p>\n<h2 id=\"JavaScript-1\"><a href=\"#JavaScript-1\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h2><h3 id=\"Hybrid设计\"><a href=\"#Hybrid设计\" class=\"headerlink\" title=\"Hybrid设计\"></a><a href=\"https://www.imooc.com/learn/850\" target=\"_blank\" rel=\"noopener\">Hybrid设计</a></h3><ul>\n<li>难度系数：★★☆☆☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★★★☆</li>\n<li>综合评分：★★★★☆</li>\n</ul>\n<p>该课程首先会告诉大家什么是 Hybrid，Hybrid 有什么特点，也会告诉大家业内有哪些常见的 Hybrid 应用以及 Hybrid 合理的应用场景。 然后，课程会简单介绍一个 Hybrid 架构的方方面面，包括 Hybrid 的发展，比如超级 Hybrid 方案 React Native 以及 Weex 学习该课程，大家会知道 Hybrid 中 H5 与 Native 如何交互，并且对 Hybrid 体验增强和 Hybrid 离线包有一些认识，是大家做混合 APP 的必备良药。</p>\n<h3 id=\"zepto设计和源码分析\"><a href=\"#zepto设计和源码分析\" class=\"headerlink\" title=\"zepto设计和源码分析\"></a><a href=\"https://www.imooc.com/learn/745\" target=\"_blank\" rel=\"noopener\">zepto设计和源码分析</a></h3><ul>\n<li>难度系数：★★★☆☆</li>\n<li>实战系数：★★★☆☆</li>\n<li>版本系数：★★★☆☆</li>\n<li>综合评分：★★★☆☆</li>\n</ul>\n<p>当熟练使用 zepto 的 API 之后，也应该解读一下 zepto 的源码，了解一下 zepto 的设计原理。该教程深入浅出的介绍了 zepto 最核心的设计原理，看完之后即能轻松解读 zepto 所有源码。就像 TJ 大神一样，有时候看别人写的代码会有不同寻常的收获</p>\n<h3 id=\"Web安全-XSS\"><a href=\"#Web安全-XSS\" class=\"headerlink\" title=\"Web安全-XSS\"></a><a href=\"https://www.imooc.com/learn/812\" target=\"_blank\" rel=\"noopener\">Web安全-XSS</a></h3><ul>\n<li>难度系数：★★☆☆☆</li>\n<li>实战系数：★★★★☆</li>\n<li>版本系数：★★★☆☆</li>\n<li>综合评分：★★★☆☆</li>\n</ul>\n<p>该课程从 Web 安全 XSS 的定义开始讲起，到深入剖析 XSS 攻击的原理和流程，了解常见 XSS 攻击的危害。同时通过项目实战针对性的分析如何应对 XSS 攻击做到安全的 XSS 防御措施。XSS 是最常见的一种 web 攻击，了解一些相关知识百利无一害= =</p>\n","raw":null,"categories":[{"name":"慕课网","path":"api/categories/慕课网.json"}],"tags":[{"name":"前端","path":"api/tags/前端.json"},{"name":"推荐","path":"api/tags/推荐.json"},{"name":"慕课网","path":"api/tags/慕课网.json"},{"name":"教程","path":"api/tags/教程.json"}]},{"title":"那些惊艳的移动端H5案例","slug":"那些惊艳的移动端H5案例","date":"2018-02-11T08:25:53.000Z","updated":"2019-02-28T12:34:16.864Z","comments":true,"path":"api/articles/那些惊艳的移动端H5案例.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":"/images/hexo_post_235.jpeg","content":"<p>不管是公司用于宣传还是对某个产品进行营销，移动端 H5 的应用范围越来越广，其取得的效果也有目共睹，而这篇文章就带大家领略一下那些十分惊艳的移动端H5案例，希望大家抱着猎奇的心态观看，毕竟可远观而不可亵玩呐-。-（以下活动有可能是限时的，所以当你再次访问时有可能已经关站了，排名不分先后）</p>\n<h2 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h2><h3 id=\"adidas-胜势全开\"><a href=\"#adidas-胜势全开\" class=\"headerlink\" title=\"adidas-胜势全开\"></a><a href=\"http://show.im20.com.cn/bbcny/\" target=\"_blank\" rel=\"noopener\">adidas-胜势全开</a></h3><p>\badidas 为自己的新战靴做的宣传，不过看开头动画的时候有点吓到我了- -，这为了宣传新鞋也真是下了一番功夫啊。。</p>\n<h3 id=\"凡科720°全景×活动促销\"><a href=\"#凡科720°全景×活动促销\" class=\"headerlink\" title=\"凡科720°全景×活动促销\"></a><a href=\"https://s.wcd.im/v/2uZ71/\" target=\"_blank\" rel=\"noopener\">凡科720°全景×活动促销</a></h3><p>凡科互动是凡科旗下的一个子品牌，主要做的就是这种活动促销 H5，其中大多数为游戏的形式，而这个 720° 全景营销案例很经典，之前我也曾经尝试过实现一个类似的，结果可想而知。。因为 720° 需要用到一些数学知识，同时为了让其滑动的更顺滑，引入了很多插件，所以是一个比较难实现的案例。</p>\n<h3 id=\"Merrier和王者荣耀的故事\"><a href=\"#Merrier和王者荣耀的故事\" class=\"headerlink\" title=\"Merrier和王者荣耀的故事\"></a><a href=\"https://game.weixin.qq.com/cgi-bin/act?noticeid=90113615&amp;actid=7519&amp;k=m4GgtZfFORJ_wyqLywTnnw&amp;q=0&amp;jsapi_ticket=1&amp;openid=owanlsmlZT4pSDOwMrD8P9ObuEEU&amp;partition=4052#wechat_redirect\" target=\"_blank\" rel=\"noopener\">Merrier和王者荣耀的故事</a></h3><p>不知道你们能不能打开这个链接，应该是只能在微信中打开的- -，这是王者荣耀在两周年的时候出的一个总结性质的 H5，色彩搭配很舒服，同时各种数据的统计证明这个文案是用了很大心思的。</p>\n<h3 id=\"有志者，吃就橙\"><a href=\"#有志者，吃就橙\" class=\"headerlink\" title=\"有志者，吃就橙\"></a><a href=\"http://h5.flyfinger.com/2017/dlanping/foodleS/index.html\" target=\"_blank\" rel=\"noopener\">有志者，吃就橙</a></h3><p>大众点评和摩拜单车联合搞的一次“炫光吃货车”活动，虽然其实就是一个不能暂停也没有很人性化的静音按钮的视频，但是不得不说，文案还是有一丢丢创意的，而且配音也很有意思。。</p>\n<h3 id=\"车轮招聘节\"><a href=\"#车轮招聘节\" class=\"headerlink\" title=\"车轮招聘节\"></a><a href=\"http://h5.eclicks.cn/2016/hr/index.html\" target=\"_blank\" rel=\"noopener\">车轮招聘节</a></h3><p><a href=\"http://eclicks.cn/\" target=\"_blank\" rel=\"noopener\">车轮——让有车生活更美好</a>制作的招聘宣传 H5，虽然动画比较简单，而且元素也比较单一，但是整体效果还是不错的，而且有一个很牛逼的微信分享标题：《我们在召唤你，艾泽拉斯最强的勇士们！》</p>\n<h3 id=\"开打法魔用能只章文篇这\"><a href=\"#开打法魔用能只章文篇这\" class=\"headerlink\" title=\"开打法魔用能只章文篇这\"></a><a href=\"http://news.163.com/special/fdh5_harrypotter20_18/\" target=\"_blank\" rel=\"noopener\">开打法魔用能只章文篇这</a></h3><p>（这个标题用了我 30 秒的时间）不得不承认这是我见过的最炫酷的 H5 宣传案例了，当那熟悉的旋律响起，我们仿佛就置身于霍格沃茨魔法学院，通过一些手势产生互动，最后还能学到魔法，不得不说真的很赞，不过缺点就是：这个是宣传什么的来着？</p>\n<h3 id=\"艾泽拉斯全景之旅\"><a href=\"#艾泽拉斯全景之旅\" class=\"headerlink\" title=\"艾泽拉斯全景之旅\"></a><a href=\"http://zhouxin.legendh5.com/h5/537c983e-b0a6-8a91-435b-abb04ad6c704.html\" target=\"_blank\" rel=\"noopener\">艾泽拉斯全景之旅</a></h3><p>80 年代的魔兽世界，大灾变之前的艾泽拉斯，wower 老玩家的回忆。不知不觉，魔兽世界已经陪伴我们超过十年了，虽然我自己玩魔兽的时间很短很短，不过对魔兽世界的文化本身还是比较感兴趣的，而这个 720° 全景可以说做的很用心，也很真实，同时还能够看到一些玩家在暴风城等地方留下的感慨，岁月流转，曾经一起下副本的朋友们你们过得还好吗？</p>\n<h3 id=\"朕收到一条来自你妈的微信\"><a href=\"#朕收到一条来自你妈的微信\" class=\"headerlink\" title=\"朕收到一条来自你妈的微信\"></a><a href=\"http://9be705463ff7.vt.iamh5.cn/v3/idea/7gEJ3FF5\" target=\"_blank\" rel=\"noopener\">朕收到一条来自你妈的微信</a></h3><p>这个标题着实吓到我了，不过点开才发现，这和我妈有什么关系？！其实就是故宫食品的宣传 H5，在这里赞一下文案设计，风趣而不失稳重（看饿了）：</p>\n<blockquote>\n<p>圣旨到<br>奉天承运，皇帝诏曰<br>朕最近心情不佳<br>打农药微信总弹窗<br>段位一直掉掉掉掉<br>烦死朕了<br>朕实在控记不住记几啊<br>点开一看<br>朕收到了你妈的微信<br>让你中秋回家吃月饼 SO<br>朕就给你批个长假<br>回家过节<br>反正带不回对象<br>那就带朕的心意<br>哈哈哈哈，没想到吧<br>朕给自家御膳房走波广告<br>（…各种弹幕）<br>朕的御厨，平时很闲<br>除了月饼，还做了一堆<br>（…各种吃的）<br>现在有些妖艳的月饼<br>咬一口防腐半年<br>一定是哪个刁民<br>想谋害朕<br>好继承朕的江山<br>稳住我们能赢！<br>朕的御膳房，刀枪不入，百毒不侵<br>国味汝肴典藏月饼<br>这就是朕的心意<br>故  宫  的  月  饼<br>眼花了吧 哈哈哈哈哈<br>朕就是这样迷人的汉子<br>（好不要脸）</p>\n</blockquote>\n<h3 id=\"领英丨名企梦工厂-今日头条\"><a href=\"#领英丨名企梦工厂-今日头条\" class=\"headerlink\" title=\"领英丨名企梦工厂-今日头条\"></a><a href=\"https://h5.veervr.tv/player/?vid=%E9%A2%86%E8%8B%B1%E4%B8%A8%E5%90%8D%E4%BC%81%E6%A2%A6%E5%B7%A5%E5%8E%82-%E4%BB%8A%E6%97%A5%E5%A4%B4%E6%9D%A1-66114\" target=\"_blank\" rel=\"noopener\">领英丨名企梦工厂-今日头条</a></h3><p>领英在校招季携手 18 家顶级名企，用 VR 全景带你全方位无死角地触碰心仪公司，可以说结合 VR 进行企业的介绍效果很赞，再加上旁白的介绍更加饱满充实，不过就是流量消耗巨大。。如果对 VR 感兴趣的话，欢迎去 <a href=\"https://veervr.tv/\" target=\"_blank\" rel=\"noopener\">VeeR-全球VR内容分享社区</a>观看更多 VR 视频（首先，你得有一副好的 VR 眼镜）</p>\n<h3 id=\"2017两会\"><a href=\"#2017两会\" class=\"headerlink\" title=\"2017两会\"></a><a href=\"http://www.html5case.com.cn/case/people-cn/likeqiang-timeline/index2.html\" target=\"_blank\" rel=\"noopener\">2017两会</a></h3><p>人民日报在两会期间做的微信宣传 H5，很有创意，借用微信群聊和朋友圈的方式对国家取得的成果进行了展示，同时进行了一些宣传和号召。</p>\n<h3 id=\"王思聪邀请你加入群聊\"><a href=\"#王思聪邀请你加入群聊\" class=\"headerlink\" title=\"王思聪邀请你加入群聊\"></a><a href=\"http://static.udache.com/gulfstream/webapp/modules/tmall2didi/index.html\" target=\"_blank\" rel=\"noopener\">王思聪邀请你加入群聊</a></h3><p>现在的标题党越来越多了。。其实和上面那个两会的 H5 类似，只不过粗糙一些，而且内容也比较少，就是滴滴的一个活动的宣传，很明显的不太用心啊。</p>\n<h3 id=\"河北衡水中学720°全景图\"><a href=\"#河北衡水中学720°全景图\" class=\"headerlink\" title=\"河北衡水中学720°全景图\"></a><a href=\"http://720yun.com/t/7b9z011r08z?code=03101967458b0569d107870c89280a4H\" target=\"_blank\" rel=\"noopener\">河北衡水中学720°全景图</a></h3><p>衡中虽然占地面积比较小，但是每年产出的清北人数可以说在全国都是名列前茅的，而这个 720° 全景图相比之前魔兽和凡科的就差太多了，好希望有人能做一个比较细致的 720° 全景图啊- -</p>\n<h3 id=\"比尔盖茨邀请你加入群聊\"><a href=\"#比尔盖茨邀请你加入群聊\" class=\"headerlink\" title=\"比尔盖茨邀请你加入群聊\"></a><a href=\"http://m.creatby.com/v2/manage/book/rkcmfz/?weixin_auth_key=20180215100913870054844\" target=\"_blank\" rel=\"noopener\">比尔盖茨邀请你加入群聊</a></h3><p>需要在微信中打开，和上面的“王思聪邀请你加入群聊”类似，都是模仿微信进行宣传，同时加入了一些用户互动，最后重定向到了公众号中的一篇文章，其实这种形式是一种很好的宣传，值得借鉴</p>\n<h3 id=\"以你之名，守护汉字\"><a href=\"#以你之名，守护汉字\" class=\"headerlink\" title=\"以你之名，守护汉字\"></a><a href=\"http://shared.youdao.com/market/xmdh/163.html?d=1518660346820\" target=\"_blank\" rel=\"noopener\">以你之名，守护汉字</a></h3><p>网易有道做的“守护汉字”主题活动，根据你的姓名为你分配一个需要守护的古汉字，让我不禁想起了《国家宝藏》，不过不得不说，动画特效和 BGM 都很赞，在“提笔忘字”的今天，守护汉字显得尤为重要</p>\n<h3 id=\"快看！李彦宏父女跑进你的手机啦！\"><a href=\"#快看！李彦宏父女跑进你的手机啦！\" class=\"headerlink\" title=\"快看！李彦宏父女跑进你的手机啦！\"></a><a href=\"https://eopa.baidu.com/page/RV-gFZw4Ct7\" target=\"_blank\" rel=\"noopener\">快看！李彦宏父女跑进你的手机啦！</a></h3><p>虽然只是一个视频，技术上难度很低，不过这个视频做的很赞，百度通过这种形式宣传自己的“手机百度”，虽然对百度并无好感，不过如此用心的视频还是要赞一个</p>\n<h3 id=\"2017，谁是头条？\"><a href=\"#2017，谁是头条？\" class=\"headerlink\" title=\"2017，谁是头条？\"></a><a href=\"http://p.static.jimingkeji.com.cn/infini-first171208/index.html\" target=\"_blank\" rel=\"noopener\">2017，谁是头条？</a></h3><p>头条对于 2017 年度新闻的总结，水墨画与太极的结合很是中国风，文案处处体现着“中国功夫”的元素。</p>\n<h3 id=\"唐朝名媛高阶生活指南\"><a href=\"#唐朝名媛高阶生活指南\" class=\"headerlink\" title=\"唐朝名媛高阶生活指南\"></a><a href=\"http://wx.amo9.com/h5/2018/nov/cmcc10086/8/index.html?proj=cmcc10086&amp;\" target=\"_blank\" rel=\"noopener\">唐朝名媛高阶生活指南</a></h3><p>你不看到末尾不会想到，这是中国移动的广告。。。</p>\n<h3 id=\"二零一七年娱乐圈画传\"><a href=\"#二零一七年娱乐圈画传\" class=\"headerlink\" title=\"二零一七年娱乐圈画传\"></a><a href=\"http://ent.163.com/special/entphotos2017/?spssid=5892622e2f96d034a7931d06dd4b4dd0&amp;spsw=12&amp;spss=other&amp;from=groupmessage&amp;isappinstalled=0\" target=\"_blank\" rel=\"noopener\">二零一七年娱乐圈画传</a></h3><p>去年的一个网易娱乐年度新闻盘点的 H5 页面非常的新颖，采用画中画的形式依次串联十多个手绘娱乐图片，加上洗脑的“好运来”音乐，让人有很大的分享的欲望。这里有一篇解密的文章：<a href=\"https://juejin.im/post/5bfbcb1e5188252e8966a298\" target=\"_blank\" rel=\"noopener\">《Canvas 实现画中画动画效果–网易娱乐年度盘点H5动画解密》</a></p>\n<h3 id=\"娱乐圈画传2018：江湖多离别-十年如一梦\"><a href=\"#娱乐圈画传2018：江湖多离别-十年如一梦\" class=\"headerlink\" title=\"娱乐圈画传2018：江湖多离别 十年如一梦\"></a><a href=\"http://h5.data.163.com/163/html/ent/entpainting2018/index.html?spssid=5892622e2f96d034a7931d06dd4b4dd0&amp;spsw=3&amp;spss=native\" target=\"_blank\" rel=\"noopener\">娱乐圈画传2018：江湖多离别 十年如一梦</a></h3><p>从 2008 到 2018，时间是世事更迭最好的导演。网易娱乐将娱乐圈画传做成了一个 IP，希望一直做下去吧。</p>\n<h3 id=\"她挣扎48小时后死去，无人知晓\"><a href=\"#她挣扎48小时后死去，无人知晓\" class=\"headerlink\" title=\"她挣扎48小时后死去，无人知晓\"></a><a href=\"https://c.m.163.com/nc/qa/activity/dada_protection/index.html?spssid=5892622e2f96d034a7931d06dd4b4dd0&amp;spsw=1&amp;spss=163\" target=\"_blank\" rel=\"noopener\">她挣扎48小时后死去，无人知晓</a></h3><p>副标题：《你也是这个故事的主角》，首先不要被这个标题所吓到，其实这是网易出品的一个号召大家关注环境保护的一个 H5，不得不说，网易在这个方面做的真的很出色。</p>\n<h3 id=\"制造【我】的草莓音乐节\"><a href=\"#制造【我】的草莓音乐节\" class=\"headerlink\" title=\"制造【我】的草莓音乐节\"></a><a href=\"http://wap.zhengzai.tv/pages/strawberry2018/index.html\" target=\"_blank\" rel=\"noopener\">制造【我】的草莓音乐节</a></h3><p>可以在线生成草莓音乐节主题海报，你可以定制自己的外形，并添加一些简单的文案。</p>\n<h3 id=\"重回1978，带你潇洒走一回！\"><a href=\"#重回1978，带你潇洒走一回！\" class=\"headerlink\" title=\"重回1978，带你潇洒走一回！\"></a><a href=\"http://omgmkt.qq.com/tencent_news/201811/reform/40year.8b3ec.html\" target=\"_blank\" rel=\"noopener\">重回1978，带你潇洒走一回！</a></h3><p>腾讯新闻出品的，结合重力感应带你回顾改革开放四十年来我们的变化，筒子楼、迪斯科、马里奥，这些具有十分明显的时代痕迹的符号代表了那一辈人的童年，就像标题一样，带你潇洒走一回！</p>\n<h3 id=\"当TiMi一声响起的时候\"><a href=\"#当TiMi一声响起的时候\" class=\"headerlink\" title=\"当TiMi一声响起的时候\"></a><a href=\"https://timi.qq.com/act/a20181212timi/index.html\" target=\"_blank\" rel=\"noopener\">当TiMi一声响起的时候</a></h3><p>天美工作室出品，这是属于我们十年的回忆，不止是王者荣耀</p>\n<h3 id=\"我在幸福长街40号等你\"><a href=\"#我在幸福长街40号等你\" class=\"headerlink\" title=\"我在幸福长街40号等你\"></a><a href=\"https://c.h5in.net/people/\" target=\"_blank\" rel=\"noopener\">我在幸福长街40号等你</a></h3><p>人民日报携手快手出品，这是一张“长动图”，见证了 1979-2019 这 40 年的沧桑巨变。</p>\n<h3 id=\"带你全方位欣赏美丽的重庆邮电大学\"><a href=\"#带你全方位欣赏美丽的重庆邮电大学\" class=\"headerlink\" title=\"带你全方位欣赏美丽的重庆邮电大学\"></a><a href=\"https://720yun.com/t/70c26xsgq1f\" target=\"_blank\" rel=\"noopener\">带你全方位欣赏美丽的重庆邮电大学</a></h3><p>重邮全景</p>\n<h2 id=\"一些专门做H5媒体内容的平台：\"><a href=\"#一些专门做H5媒体内容的平台：\" class=\"headerlink\" title=\"一些专门做H5媒体内容的平台：\"></a>一些专门做H5媒体内容的平台：</h2><h3 id=\"木疙瘩\"><a href=\"#木疙瘩\" class=\"headerlink\" title=\"木疙瘩\"></a><a href=\"http://www.mugeda.com\" target=\"_blank\" rel=\"noopener\">木疙瘩</a></h3><p>H5 交互融媒体内容制作与管理平台。首先吐槽一下这个名字，可能是因为只买到了这个稍微能凑出汉字的域名吧，毕竟现在的域名是真贵啊- -，其特色有：</p>\n<ul>\n<li>免费无广告</li>\n<li>零代码交互</li>\n<li>自动适配屏幕</li>\n<li>可导出源文件</li>\n</ul>\n<p>然而，人民日报的一篇题为《燃爆！人民日报首部闪卡H5动画“史上最牛团队这样创业！”》的 H5 文案却被删除了：</p>\n<div align=\"center\"><img src=\"/images/hexo_post_235.jpeg\" width=\"300\" alt=\"\"></div>\n\n<h3 id=\"凡科互动\"><a href=\"#凡科互动\" class=\"headerlink\" title=\"凡科互动\"></a><a href=\"http://hd.faisco.com/\" target=\"_blank\" rel=\"noopener\">凡科互动</a></h3><p>H5 游戏营销领导者。H5游戏因为其跨平台、传播快等特性，近年来受到了广泛关注，而凡科互动就是专注于 H5 游戏的一个平台，我自己也试玩了一下它的几款游戏，包括大转盘、摇一摇、砸金蛋等等，画面音效都很不错，不过应该不是免费的，所以还是要预估一下成本和收益再做决定吧。</p>\n<h3 id=\"720yun\"><a href=\"#720yun\" class=\"headerlink\" title=\"720yun\"></a><a href=\"http://720yun.com/\" target=\"_blank\" rel=\"noopener\">720yun</a></h3><p>从名字可以看出，这是一家做 720 度全景和 VR 视频的平台，首先这个网站的风格我很喜欢，非常紧致有力，不过名气不是很大，也不知道效果如何和收费情况。</p>\n<h3 id=\"MAKA\"><a href=\"#MAKA\" class=\"headerlink\" title=\"MAKA\"></a><a href=\"http://maka.im/\" target=\"_blank\" rel=\"noopener\">MAKA</a></h3><blockquote>\n<p>MAKA 是一款简单、强大的 H5 数字化营销创作工具 其在线编辑器可帮助企业创作出专业级 H5 酷炫动态效果</p>\n</blockquote>\n<p>这是其官网的介绍，MAKA 在业界算是很有名气的了，经常会看到一些企业用 MAKA 做 H5 宣传，所以其本身的效果是已经经过广泛验证的了，最关键的是免费制作（当然，有一些也需要收费），如果有感兴趣的童鞋可以下载一下 MAKA 的 APP 尝试一下，操作简单但是功能强大。</p>\n<h3 id=\"易企秀\"><a href=\"#易企秀\" class=\"headerlink\" title=\"易企秀\"></a><a href=\"http://www.eqxiu.com/\" target=\"_blank\" rel=\"noopener\">易企秀</a></h3><blockquote>\n<p>企业移动营销综合服务平台 极简制作流程 奢华呈现形式 精准投放保证传播效果 数据随时跟踪反馈 从营销到再营销 从传播到二次传播 易企秀提供一键解决方案</p>\n</blockquote>\n<p>易企秀和 MAKA 类似，也是我最开始接触到的 H5 营销平台，虽然其介绍感觉比 MAKA 要强大许多，不过从我自身的体验来讲，易企秀比较适合中小型企业以及那些不太追求外表，同时在线时间比较短的营销活动，比如年会邀请函、新品介绍等等。总之吧，和 MAKA 相比各有千秋。</p>\n<h2 id=\"它山之石\"><a href=\"#它山之石\" class=\"headerlink\" title=\"它山之石\"></a>它山之石</h2><p>还有一些志同道合的童鞋也对与H5的玩法案例进行了总结：</p>\n<h3 id=\"H5玩法知多少\"><a href=\"#H5玩法知多少\" class=\"headerlink\" title=\"H5玩法知多少\"></a><a href=\"https://www.jianshu.com/p/34987148c9d9\" target=\"_blank\" rel=\"noopener\">H5玩法知多少</a></h3><p>来自简书，作者不仅介绍了许许多多经典的 H5 案例，作者还将 H5 玩法归纳为<strong>基于传感器、基于触摸屏操作、基于画面呈现、基于内容</strong>这四类，内容很充实。</p>\n","raw":null,"categories":[{"name":"mobile","path":"api/categories/mobile.json"}],"tags":[{"name":"移动端","path":"api/tags/移动端.json"}]},{"title":"再见，2017","slug":"再见，2017","date":"2017-12-31T15:15:52.000Z","updated":"2019-02-28T12:34:16.856Z","comments":true,"path":"api/articles/再见，2017.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":"/images/hexo_post_236.jpeg","content":"<p>今天是2017年12月31号，也就是2017年的最后一天，一般有个人博客的人都会搞个总结神马的，那我也不能落后啊？！</p>\n<h2 id=\"2017\"><a href=\"#2017\" class=\"headerlink\" title=\"2017\"></a>2017</h2><p>2017 对于我来说，可以说是非常重要的一年，在这一年中我经历了很多，也度过了很多个难忘的夜晚，废话少说：</p>\n<h3 id=\"人\"><a href=\"#人\" class=\"headerlink\" title=\"人\"></a>人</h3><p>首先，2017 年最重要的当然是<strong>找到了第一份工作</strong>，在字节跳动遇到了很多有趣的同事，其实现在想想，我的秋招就这样以一场面试开始，以同样一场面试结束了。。 在这里不得不讲一下<strong>字节跳动</strong>的种种，这里的人都很 nice，上级并没有官架子，同事们也很有趣，当然这里的饭菜在互联网界也是非常出名的，每一餐都是 50+ 的水准，不得不说，一个好食堂真的能提高生产力~除此之外，每天中午吃完饭之后还能休息 1-2 个小时，这对于我这种不睡午觉一天就没精神的简直是超级福利。。说了这么多，如果有想来字节跳动工作的童鞋，欢迎联系我~ 2017 年对于所有的90后来说也是独特的一年，因为过了今天就意味着<strong>所有的90后都已满18岁</strong>，不再是当初那个叛逆的年纪了，所以在最近也看到了各种秀 18 岁的朋友圈，时光催人老，不服不行：</p>\n<div align=\"center\"><img src=\"/images/hexo_post_236.jpeg\" width=\"400\" alt=\"\"></div>\n\n<p>这张照片是当初在衡中远足时拍的，应该在 2009 年，当时差不多 17 岁。<br>2017 年还是一个<strong>主播行业大热</strong>的年份，不得不说，我是看着冯提莫、二珂、大表姐、大奶强等主播逐渐成长起来的，可以说直播不仅让我吃外卖的时候不感觉无聊，同时让我学到了很多姿势，成为了我日常生活中不可缺少的一部分。</p>\n<h3 id=\"事\"><a href=\"#事\" class=\"headerlink\" title=\"事\"></a>事</h3><p>首先，这一年我的个人博客终于上线了。在经过一系列的折腾和 YueBug 的热情帮助下，<strong>Merrier说</strong>在今年 4 月份的时候上线了，虽然我的水平有限，不能像其他前端大牛一样对各种新鲜技术进行讲解，或对一些框架的源码进行解读，但是我始终相信，基础知识才是最重要的，所以如果你也入了前端的坑，那么 Merrier说 一定能让你学到一些东西~ 2017 年不得不提一下<strong>共享单车</strong>这个行业，从最初的 ofo，到后来的各种单车，再到现在的 ofo 和摩拜平分天下的形势，可以说我们都成为了共享单车行业的见证人，同时也让我们看到了为什么<strong>创业需谨慎</strong>，提到共享单车，就联想到了我至今还没有追回的 99 大洋押金：</p>\n<div align=\"center\"><img src=\"/images/hexo_post_234.jpeg\" width=\"300\" alt=\"\"></div>\n\n<p>当然，如果让我在 ofo 和摩拜中选一个，我站摩拜（新摩拜简直好骑到爆）！ 不知道什么时候，本命年的梗深受人心，不过对于我来说，2017 年可以说是收获的一年，不仅在前端方面找到了自己喜爱的学习方式，同时在工作上也有了自己满意的结果，当然希望看到这里的有缘人不管 2017 年过得如何，在 2018 年都能如自己所愿。</p>\n<h2 id=\"2018\"><a href=\"#2018\" class=\"headerlink\" title=\"2018\"></a>2018</h2><p>展望一下2018的话，希望能够：</p>\n<ul>\n<li>在工作上取得突破，不管是前端技术还是为人处事都能再进一步</li>\n<li>说了好几年的健身应该能付诸行动了吧？</li>\n<li>多看几部纪录片</li>\n<li>把漫威DC的电影都看一遍</li>\n<li>Leetcode 再刷 200 道题</li>\n<li>Merrier说 能够再多一些干货文章</li>\n<li>完成一个 chrome 插件</li>\n<li>向 npm 库提交一个自己做的插件</li>\n<li>小程序可以玩一玩</li>\n<li>一直想做的图片上传和展示网站能落地</li>\n<li><strong>顺利毕业！</strong></li>\n<li><strong>摇到号！</strong></li>\n</ul>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>你以为完了？并没有！以一张网图作为结束吧：</p>\n<div align=\"center\"><img src=\"/images/hexo_post_233.jpeg\" width=\"300\" alt=\"\"></div>\n\n<p>愿你走出半生，归来仍是少年。</p>\n","raw":null,"categories":[{"name":"talk","path":"api/categories/talk.json"}],"tags":[{"name":"life","path":"api/tags/life.json"},{"name":"总结","path":"api/tags/总结.json"}]},{"title":"Blue老师ES6视频笔记","slug":"Blue老师ES6视频笔记","date":"2017-12-12T14:10:42.000Z","updated":"2019-02-28T12:34:16.848Z","comments":true,"path":"api/articles/Blue老师ES6视频笔记.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":null,"content":"<p>请容许我吐槽一下，我发现中国很多前端的大神的英文真的差啊。。</p>\n<h2 id=\"ES6-兼容性\"><a href=\"#ES6-兼容性\" class=\"headerlink\" title=\"ES6 兼容性\"></a>ES6 兼容性</h2><p>可以在线查看兼容性：</p>\n<ul>\n<li>ES5：<a href=\"https://kangax.github.io/compat-table/es5/\" target=\"_blank\" rel=\"noopener\">kangax.github.io/compat-table/es5/</a></li>\n<li>ES6：<a href=\"https://kangax.github.io/compat-table/es6/\" target=\"_blank\" rel=\"noopener\">kangax.github.io/compat-table/es6/</a></li>\n</ul>\n<h3 id=\"在线编译\"><a href=\"#在线编译\" class=\"headerlink\" title=\"在线编译\"></a>在线编译</h3><p><strong>babel === browser.js</strong>，只不过叫法不同 可以通过如下方式实现在线编译 ES6，只不过会多出额外的编译时间，用户体验稍差：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"browser.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/babel\"</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">let</span> a = <span class=\"number\">12</span>;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">let</span> b = <span class=\"number\">5</span>;</span></span><br><span class=\"line\"><span class=\"undefined\">    alert(a+b);</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h2><h3 id=\"ES5-中-var-的缺点：\"><a href=\"#ES5-中-var-的缺点：\" class=\"headerlink\" title=\"ES5 中 var 的缺点：\"></a>ES5 中 var 的缺点：</h3><ul>\n<li>可以重复声明</li>\n<li>无法限制修改，即没有常量的概念</li>\n<li>没有块级作用域</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = <span class=\"number\">12</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">alert a; <span class=\"comment\">// 12</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"块级作用域有什么用？\"><a href=\"#块级作用域有什么用？\" class=\"headerlink\" title=\"块级作用域有什么用？\"></a>块级作用域有什么用？</h3><p>可以限定变量在块中起作用，而不像ES5一样在函数块中起作用，最常见的是 for 循环中的索引值</p>\n<h2 id=\"箭头函数\"><a href=\"#箭头函数\" class=\"headerlink\" title=\"箭头函数\"></a>箭头函数</h2><ol>\n<li>如果只有一个参数，()可以省略</li>\n<li>如果只有一个 return，{}可以省略</li>\n</ol>\n<h2 id=\"函数的参数\"><a href=\"#函数的参数\" class=\"headerlink\" title=\"函数的参数\"></a>函数的参数</h2><p>ES6新增：</p>\n<h3 id=\"参数扩展（…args必须为最后一个形参）\"><a href=\"#参数扩展（…args必须为最后一个形参）\" class=\"headerlink\" title=\"参数扩展（…args必须为最后一个形参）\"></a>参数扩展（…args必须为最后一个形参）</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\">a, b, ...args</span>)</span>&#123;</span><br><span class=\"line\">  alert(a);</span><br><span class=\"line\">  alert(b);</span><br><span class=\"line\">  alert(args);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">show(<span class=\"number\">12</span>, <span class=\"number\">15</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>, <span class=\"number\">20</span>);</span><br></pre></td></tr></table></figure>\n<h3 id=\"展开一个数组\"><a href=\"#展开一个数组\" class=\"headerlink\" title=\"展开一个数组\"></a>展开一个数组</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = \\[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>\\];</span><br><span class=\"line\">\\[...arr\\] = \\[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>\\];</span><br></pre></td></tr></table></figure>\n<h3 id=\"默认参数\"><a href=\"#默认参数\" class=\"headerlink\" title=\"默认参数\"></a>默认参数</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">show</span>(<span class=\"params\">a, b=<span class=\"number\">5</span>, c=<span class=\"number\">12</span></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(a, b, c);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"解构赋值\"><a href=\"#解构赋值\" class=\"headerlink\" title=\"解构赋值\"></a>解构赋值</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> \\[a, b, c\\] = \\[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>\\]</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a, b, c);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> \\[&#123;a, b&#125;, \\[n1, n2, n3\\], num, str\\] = \\[&#123;<span class=\"attr\">a</span>: <span class=\"number\">12</span>, <span class=\"attr\">b</span>: <span class=\"number\">5</span>&#125;, \\[<span class=\"number\">12</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>\\], <span class=\"number\">8</span>, <span class=\"string\">'cxzcv'</span>\\];</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a, b, n1, n2, n3, num, str);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> \\[a, b\\] = &#123;<span class=\"attr\">a</span>: <span class=\"number\">12</span>, <span class=\"attr\">b</span>: <span class=\"number\">45</span>&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a, b); <span class=\"comment\">// undefined is not a function, 前提1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> &#123;a, b&#125; = &#123;<span class=\"number\">12</span>, <span class=\"number\">5</span>&#125;;</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(a, b); <span class=\"comment\">// unexpected token, 前提2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> \\[a, b\\];</span><br><span class=\"line\">\\[a, b\\] = \\[<span class=\"number\">12</span>, <span class=\"number\">5</span>\\]; <span class=\"comment\">// XXXX error, 前提3</span></span><br></pre></td></tr></table></figure>\n<p>前提：</p>\n<ol>\n<li>左右两边解构必须一样</li>\n<li>右边必须是个东西</li>\n<li>声明和赋值不能分开（必须在一句话中完成）</li>\n</ol>\n<h2 id=\"数组\"><a href=\"#数组\" class=\"headerlink\" title=\"数组\"></a>数组</h2><p>新增四个方法：</p>\n<ul>\n<li>map：映射</li>\n<li>reduce：汇总</li>\n<li>filter：过滤器</li>\n<li>forEach：循环（迭代）</li>\n</ul>\n<h3 id=\"map\"><a href=\"#map\" class=\"headerlink\" title=\"map\"></a>map</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = \\[<span class=\"number\">12</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>\\];</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = arr.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">item</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> item*<span class=\"number\">2</span>;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">alert(result); <span class=\"comment\">// 24, 10, 16</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"reduce\"><a href=\"#reduce\" class=\"headerlink\" title=\"reduce\"></a>reduce</h3><p>经常用来算总数、平均数等指标</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = \\[<span class=\"number\">12</span>, <span class=\"number\">69</span>, <span class=\"number\">180</span>, <span class=\"number\">8763</span>\\];</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = arr.reduce(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">tmp, item, index</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> tmp + item;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">alert(result);</span><br></pre></td></tr></table></figure>\n<p>求平均数：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = \\[<span class=\"number\">12</span>, <span class=\"number\">69</span>, <span class=\"number\">180</span>, <span class=\"number\">8763</span>\\];</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = arr.reduce(<span class=\"function\">(<span class=\"params\">tmp, item, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(index != arr.length - <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> tmp+item;</span><br><span class=\"line\">  &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (tmp+item)/arr.length;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">alert(result);</span><br></pre></td></tr></table></figure>\n<h3 id=\"filter\"><a href=\"#filter\" class=\"headerlink\" title=\"filter\"></a>filter</h3><p>filter 中 return true 就留下来，return false 就不保留</p>\n<h3 id=\"forEach\"><a href=\"#forEach\" class=\"headerlink\" title=\"forEach\"></a>forEach</h3><p>类似于传统的 for 循环，参数为 item, index</p>\n<h2 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h2><p>新增：</p>\n<ol>\n<li>多了两个新方法，startsWith，endsWith</li>\n<li>字符串模板</li>\n</ol>\n<h3 id=\"字符串模板\"><a href=\"#字符串模板\" class=\"headerlink\" title=\"字符串模板\"></a>字符串模板</h3><p>普通字符串无法折行，字符串模板可以折行</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">12</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> str = \\<span class=\"string\">`a<span class=\"subst\">$&#123;a&#125;</span>bc\\`;</span></span><br><span class=\"line\"><span class=\"string\">alert(str); // a12bc</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"面向对象\"><a href=\"#面向对象\" class=\"headerlink\" title=\"面向对象\"></a>面向对象</h2><p>ES5 中的面向对象：类和构造函数不分，混为一谈；ES6 中的面向对象：</p>\n<ol>\n<li>class 关键字，构造器和类分开了</li>\n<li>class 里面直接加方法</li>\n<li>extends-继承</li>\n</ol>\n<h2 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h2><p>json 的标准写法：</p>\n<ol>\n<li>只能用双引号</li>\n<li>所有的名字（key）都必须用引号包起来</li>\n</ol>\n<p>在 ES 中，当名字和值相同时，可以只写其中一个；方法可以省掉: function</p>\n<h2 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h2><p>异步会让代码更复杂，而同步的代码简单，而 Promise 用同步的方式来书写异步代码</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>)</span>&#123;</span><br><span class=\"line\">  $.ajax(&#123;</span><br><span class=\"line\">    url: <span class=\"string\">'arr.txt'</span>,</span><br><span class=\"line\">    dataType: <span class=\"string\">'json'</span>,</span><br><span class=\"line\">    success(arr)&#123;</span><br><span class=\"line\">      resolve(arr);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    error(err)&#123;</span><br><span class=\"line\">      reject(err);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">p.then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;alert(<span class=\"string\">'成功'</span>)&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;alert(<span class=\"string\">'失败'</span>)&#125;);</span><br></pre></td></tr></table></figure>\n<p>Promise.all([promise1, promise2, …]) =&gt; 都 resolve 的时候才算成功，只要有一个 reject 就算失败<br>Promise.\brace([promise1, promise2, …]) =&gt; 只要有一个 resolve 的时候就算成功，全部 reject 才算失败 在高版本 jQuery 中，$.ajax 的返回值就是一个 Promise 对象</p>\n<h2 id=\"generator\"><a href=\"#generator\" class=\"headerlink\" title=\"generator\"></a>generator</h2><p>和普通函数相比，中间能暂停，需要和 yield 配合使用 generator 并不会直接执行，而是会创建一个 generator 对象，其中该对象的 next 方法用于继续执行，碰到 yield 就会停</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> *<span class=\"title\">show</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  alert(<span class=\"string\">'a'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">yield</span>;</span><br><span class=\"line\">  alert(<span class=\"string\">'b'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> genObj = show();</span><br><span class=\"line\">genObj.next(); <span class=\"comment\">// a</span></span><br><span class=\"line\">genObj.next(); <span class=\"comment\">// b</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"yield\"><a href=\"#yield\" class=\"headerlink\" title=\"yield\"></a>yield</h3><p>yield 既可以传参，又可以返回</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> *<span class=\"title\">show</span>(<span class=\"params\">num1, num2</span>)</span>&#123;</span><br><span class=\"line\">  alert(<span class=\"string\">`<span class=\"subst\">$&#123;num1&#125;</span>, <span class=\"subst\">$&#123;num2&#125;</span>`</span>);</span><br><span class=\"line\">  alert(<span class=\"string\">'a'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"keyword\">yield</span>;</span><br><span class=\"line\">  alert(<span class=\"string\">'b'</span>);</span><br><span class=\"line\">  alert(a);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> gen = show(<span class=\"number\">99</span>, <span class=\"number\">88</span>);</span><br><span class=\"line\">gen.next(<span class=\"number\">12</span>); <span class=\"comment\">// 第一个next没法给yield传参</span></span><br><span class=\"line\">gen.next(<span class=\"number\">5</span>); <span class=\"comment\">// 会传给上面的yield，所以a=5</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Promise-的局限性\"><a href=\"#Promise-的局限性\" class=\"headerlink\" title=\"Promise 的局限性\"></a>Promise 的局限性</h3><p>其实 generator 之所以出现也是因为纯 Promise 也有其自身的缺陷，并不能完全避免“回调陷阱”，而网上对于 Promise 的局限性解释很多，建议大家直接去看相关博客就可以了，而在我理解就是<strong>Promise 在解决数据依赖问题时避免不了“回调陷阱”</strong>，比如我需要根据数据 A 去请求数据 B，然后再根据数据 B 请求数据 C，然后再……，如果你自己用 Promis e实现一下的话就会发现这时候它的局限性所在；这也再一次证明了那句话：<strong>懒惰是最大生产力</strong></p>\n<h2 id=\"ES7-预览\"><a href=\"#ES7-预览\" class=\"headerlink\" title=\"ES7 预览\"></a>ES7 预览</h2><p>ES6 还没掌握，ES7 都定稿了。。ES8 都有草案了。。，不过现在浏览器对 ES7 的支持很惨</p>\n<ul>\n<li>数组 includes -&gt; 检查数组是否包含某元素</li>\n<li>数组 keys/values/entries -&gt; 一般配合 for…of 使用，for…of 即对 value 的循环，entries 是对键值对的循环</li>\n<li>求幂新操作符 -&gt; 3**8 === Math.pow(3, 8)</li>\n<li>字符串的 padStart/padEnd 方法 -&gt; 补充空格或其他字符串</li>\n<li>增加了函数容忍度 function show(a, b, c, ) -&gt; 不报错</li>\n<li>async 和 await，这基本上是 ES7 最好用的。。用于替代 generator 和 yield</li>\n<li>……</li>\n</ul>\n","raw":null,"categories":[{"name":"js","path":"api/categories/js.json"}],"tags":[{"name":"JS","path":"api/tags/JS.json"},{"name":"ES6","path":"api/tags/ES6.json"},{"name":"笔记","path":"api/tags/笔记.json"}]},{"title":"Hybrid设计与浅析","slug":"Hybrid设计与浅析","date":"2017-12-01T14:19:00.000Z","updated":"2019-02-28T12:34:16.852Z","comments":true,"path":"api/articles/Hybrid设计与浅析.json","excerpt":null,"keywords":"merrier 博客 前端 北邮人","cover":"/images/hexo_post_288.png","content":"<p>慕课网视频——<a href=\"https://www.imooc.com/learn/850\" target=\"_blank\" rel=\"noopener\">Hybrid设计</a>的学习笔记，同时加入了一些自己的理解，希望通过本篇文章能够让你理解什么是 Hybrid，以及 Hybrid 有什么特点，同时还会简单介绍一下 Hybrid 开发时的注意事项。</p>\n<h2 id=\"什么是-Hybrid\"><a href=\"#什么是-Hybrid\" class=\"headerlink\" title=\"什么是 Hybrid\"></a>什么是 Hybrid</h2><p>Hybrid 和普通前端代码没差别，只不过宿主不一样，Hybrid 就是在 app 中运行的前端代码。</p>\n<h2 id=\"业内的-Hybrid-App\"><a href=\"#业内的-Hybrid-App\" class=\"headerlink\" title=\"业内的 Hybrid App\"></a>业内的 Hybrid App</h2><ul>\n<li>携程</li>\n<li>百度糯米</li>\n<li>京东</li>\n<li>天猫</li>\n<li>微信</li>\n<li>QQ</li>\n<li>手机百度</li>\n<li>支付宝</li>\n</ul>\n<h3 id=\"一般地，APP-开发方式有以下几种方式：\"><a href=\"#一般地，APP-开发方式有以下几种方式：\" class=\"headerlink\" title=\"一般地，APP 开发方式有以下几种方式：\"></a>一般地，APP 开发方式有以下几种方式：</h3><ol>\n<li>Web App（浏览器网页）</li>\n<li>Native App（原生app）</li>\n<li>Hybrid App（ H5 混合app）</li>\n<li>超级Hybrid（React Native、Weex）</li>\n<li>微信/支付宝小程序（或内嵌页面）</li>\n</ol>\n<h2 id=\"Hybrid-相比-Native-和纯-Html5-的优缺点\"><a href=\"#Hybrid-相比-Native-和纯-Html5-的优缺点\" class=\"headerlink\" title=\"Hybrid 相比 Native 和纯 Html5 的优缺点\"></a>Hybrid 相比 Native 和纯 Html5 的优缺点</h2><div align=\"center\"><img src=\"/images/hexo_post_288.png\" alt=\"\"></div>\n\n<h2 id=\"Native-与-H5-的职责\"><a href=\"#Native-与-H5-的职责\" class=\"headerlink\" title=\"Native 与 H5 的职责\"></a>Native 与 H5 的职责</h2><ul>\n<li>H5 做业务</li>\n<li>Native 提供基础能力</li>\n<li>Native 做好必须 Native 做的业务</li>\n</ul>\n<h2 id=\"H5-与-Native-通信\"><a href=\"#H5-与-Native-通信\" class=\"headerlink\" title=\"H5 与 Native 通信\"></a>H5 与 Native 通信</h2><h3 id=\"JavascriptCore\"><a href=\"#JavascriptCore\" class=\"headerlink\" title=\"JavascriptCore\"></a>JavascriptCore</h3><p>和 JS Bridge 类似</p>\n<div align=\"center\"><img src=\"/images/hexo_post_104.png\" alt=\"\"></div>\n\n<h2 id=\"通过-URL-Schema-通信\"><a href=\"#通过-URL-Schema-通信\" class=\"headerlink\" title=\"通过 URL Schema 通信\"></a>通过 URL Schema 通信</h2><h3 id=\"App-主动与-H5-通信\"><a href=\"#App-主动与-H5-通信\" class=\"headerlink\" title=\"App 主动与 H5 通信\"></a>App 主动与 H5 通信</h3><div align=\"center\"><img src=\"/images/hexo_post_88.png\" alt=\"\"></div>\n\n<p>将一组 API 绑定在 webview 的 window 对象上，App 通过 iOS/Android 原生方法调用 window 对象中的 js 方法</p>\n<h3 id=\"H5-主动与-App-通信\"><a href=\"#H5-主动与-App-通信\" class=\"headerlink\" title=\"H5 主动与 App 通信\"></a>H5 主动与 App 通信</h3><div align=\"center\"><img src=\"/images/hexo_post_105.png\" alt=\"\"></div>\n\n<p>App 实现对 WebView URL 的观察者模式，H5 通过改变 URL 的哈希值，App 会通过解析哈希值的变化执行对应的操作</p>\n","raw":null,"categories":[{"name":"慕课网","path":"api/categories/慕课网.json"}],"tags":[{"name":"Hybrid","path":"api/tags/Hybrid.json"},{"name":"慕课网","path":"api/tags/慕课网.json"}]}]}