---
title: 这些神奇的代码你见过吗？
urlname: 英文标题
id: 独一无二的id，暂时没什么用
categories:
  - 分类
tags:
  - 标签
img: /images/
date: 2019-05-14 20:33:24
---


## 前端黑魔法

https://github.com/EtherDream/web-frontend-magic

## 一行js代码完成一个简易版的贪吃蛇游戏

线上试玩地址：https://jsbin.com/qisedutiwe/edit?html,output，代码如下：

```javascript
(function(){var s = [41,40],d = 1,f = 43,x,c = document.createElement('canvas');c.width=400;c.height=400;c.style.background="#535353";c.textContent="当前浏览器不支持canvas标签";b=c.getContext('2d');function w(s,c){b.fillStyle = c;b.fillRect(s % 20 * 20, ~~(s / 20) * 20 , 18 , 18);};document.onkeydown=function(e){d = s[1] - s[0] == (x = [-1,-20,1,20][(e || event).keyCode - 37] || d ) ? d : x;};!(function(){s.unshift(x = s[0] + d);if(s.indexOf(x,1) > 0 || x < 0 || x > 399 || d == 1 && x % 20 == 0 || d == -1 && x % 20 == 19)return alert('游戏结束!');w(x,'#2396ef');x === f ? (()=>{while (s.indexOf(f = ~~(Math.random() * 399)) > 0);w(f,'#35e3dc');})() : w(s.pop(),'#535353');setTimeout(arguments.callee,300);})();document.body.appendChild(c);})();
```

代码分析见掘金：https://juejin.im/post/5cd6878951882520232b2035

## 打印一个键盘

在 Chrome 控制台中打印如下代码，会出现一个键盘：

```javascript
(_=>[..."`1234567890-=~~QWERTYUIOP[]\\~ASDFGHJKL;'~~ZXCVBNM,./~"].map(x=>(o+=`/${b='_'.repeat(w=x<y?2:' 667699'[x=["Bs","Tab","Caps","Enter"][p++]||'Shift',p])}\\|`,m+=y+(x+'    ').slice(0,w)+y+y,n+=y+b+y+y,l+=' __'+b)[73]&&(k.push(l,m,n,o),l='',m=n=o=y),m=n=o=y='|',p=l=k=[])&&k.join`
`)()
```

来自：https://juejin.im/post/5cc7afdde51d456e671c7e48


## Buzz & Fizz

这是一道臭名昭著的面试题，可以猜一下下面代码的执行结果：

```javascript
for(i=0;++i<101;console.log(i%5?f||i:f+'Buzz'))f=i%3?'':'Fizz'
```

来自：https://juejin.im/post/5cc55eb5e51d456e577f93f0

## 一行代码实现 lodash.get

来自：https://github.com/burakcan/mb，用一行代码就实现了 lodash 中的 get 函数

> 在 js 中经常会出现嵌套调用这种情况，如 a.b.c.d.e，但是这么写很容易抛出异常。你需要这么写 a && a.b && a.b.c && a.b.c.d && a.b.c.d.e，但是显得有些啰嗦与冗长了。这时就需要一个 get 函数，使用 get(a, 'b.c.d.e') 简单清晰，并且容错性提高了很多。这就是 lodash.get 的作用

```javascript
var mb=p=>o=>p.map(c=>o=(o||{})[c])&&o
```

上面定义了一个 mb function，其返回值是一个 function，然后可以这样使用：

```javascript
var getHello = mb(["a", "b", 0, "hello"]);
var getHelloLength = mb(["a", "b", 0, "hello", "length"]);

var obj1 = {
  a: {
    b: [{ hello: "world" }]
  }
};

var obj2 = {
  c: {
    d: "e"
  }
};

getHello(obj1); // world
getHelloLength(obj1); // 5

getHello(obj2); // undefined
getHelloLength(obj2); // undefined
```
